<type access-modifier="private" name="Trends_Table" display-name="Форма таблицы графиков" uuid="2eaa655b-e7df-43ce-a704-693e19fb182e" base-type="Form" base-type-id="ffaf5544-6200-45f4-87ec-9dd24558a9d5" ver="5">
	<designed target="X" value="0" ver="5"/>
	<designed target="Y" value="0" ver="5"/>
	<designed target="Rotation" value="0" ver="5"/>
	<designed target="Scale" value="1" ver="5"/>
	<designed target="Visible" value="true" ver="5"/>
	<designed target="Enabled" value="true" ver="5"/>
	<designed target="Tooltip" value="" ver="5"/>
	<designed target="Width" value="1000" ver="5"/>
	<designed target="Height" value="500" ver="5"/>
	<designed target="PenColor" value="4278190080" ver="5"/>
	<designed target="PenStyle" value="0" ver="5"/>
	<designed target="PenWidth" value="1" ver="5"/>
	<designed target="BrushColor" value="4293980400" ver="5"/>
	<designed target="BrushStyle" value="1" ver="5"/>
	<designed target="WindowX" value="0" ver="5"/>
	<designed target="WindowY" value="0" ver="5"/>
	<designed target="WindowWidth" value="1000" ver="5"/>
	<designed target="WindowHeight" value="500" ver="5"/>
	<designed target="WindowCaption" value="Таблица данных" ver="5"/>
	<designed target="ShowWindowCaption" value="true" ver="5"/>
	<designed target="ShowWindowMinimize" value="false" ver="5"/>
	<designed target="ShowWindowMaximize" value="true" ver="5"/>
	<designed target="ShowWindowClose" value="true" ver="5"/>
	<designed target="AlwaysOnTop" value="false" ver="5"/>
	<designed target="WindowSizeMode" value="1" ver="5"/>
	<designed target="WindowBorderStyle" value="1" ver="5"/>
	<designed target="WindowState" value="0" ver="5"/>
	<designed target="WindowScalingMode" value="0" ver="5"/>
	<designed target="MonitorNumber" value="0" ver="5"/>
	<designed target="WindowPosition" value="2" ver="5"/>
	<designed target="WindowCloseMode" value="0" ver="5"/>
	<object access-modifier="private" name="private" display-name="private" uuid="52af9af2-1ea7-4c1c-b0f8-7b8e76eae157" base-type="" base-type-id="00000000-0000-0000-0000-000000000000" ver="5">
		<object access-modifier="private" name="initialized" display-name="initialized" uuid="f7655f29-6cda-4467-bca8-ce06cac1623d" base-type="bool" base-type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8" ver="5"/>
		<object access-modifier="private" name="isPlaying" display-name="isPlaying" uuid="6f31d002-b1c3-4174-ac90-fc1ffbcb0fdc" base-type="bool" base-type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8" ver="5"/>
		<object access-modifier="private" name="pTheme" display-name="pTheme" uuid="d07fa735-ea23-4b0c-a507-95fc72dc01f8" base-type="Trends_Theme" base-type-id="3fbfa4c2-c742-4bec-94dc-d1bcb7ef25b6" ver="5" base-ref="true">
			<do-trace access-modifier="private" target="BackgroundColor" ver="5">
				<body>
					<![CDATA[here.init_Theme.BackgroundColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ForegroundColor" ver="5">
				<body>
					<![CDATA[here.init_Theme.ForegroundColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="DisabledFontColor" ver="5">
				<body>
					<![CDATA[here.init_Theme.DisabledFontColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="EditorBrushColor" ver="5">
				<body>
					<![CDATA[here.init_Theme.EditorBrushColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="EditorFontColor" ver="5">
				<body>
					<![CDATA[here.init_Theme.EditorFontColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="BorderColor" ver="5">
				<body>
					<![CDATA[here.init_Theme.BorderColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="SelectionColor" ver="5">
				<body>
					<![CDATA[here.init_Theme.SelectionColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="DisabledBorderColor" ver="5">
				<body>
					<![CDATA[here.init_Theme.DisabledBorderColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="TitleFont" ver="5">
				<body>
					<![CDATA[here.init_Theme.TitleFont]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="Font" ver="5">
				<body>
					<![CDATA[here.init_Theme.Font]]>
				</body>
			</do-trace>
		</object>
		<object access-modifier="private" name="pScreenKeyboard" display-name="pScreenKeyboard" uuid="52662ab8-3846-45a0-b9e1-f248abbf6df6" base-type="ScreenKeyboardOptions" base-type-id="0589bc8e-fbb2-4f0e-b5d2-f0d825538ef1" base-const="true" base-ref="true" ver="5" description=""/>
		<object access-modifier="private" name="ShowComplete" display-name="ShowComplete" uuid="d0f6c645-1516-4997-ba17-ee330a357603" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="InvokeTrigger" value="false" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked" form-action="open-dialog" form-by-id="false">
				<object access-modifier="private" uuid="14a670ea-6a26-4301-a075-6c67737e462a" base-type="MessageDialog" base-type-id="a468f863-f603-4768-ad4b-e16bc34ea78e" ver="5">
					<init target="Icon" ver="5" value="0"/>
					<init target="Buttons" ver="5" value="0"/>
					<init target="Message" ver="5">
						<expr>
							<![CDATA[message]]>
						</expr>
					</init>
					<init target="pTheme" ver="5" ref="here.private.pTheme"/>
				</object>
			</do-on>
			<object access-modifier="private" name="message" display-name="message" uuid="1e559394-c9a2-4ee9-8a64-2b37d15edb8f" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</object>
		<object access-modifier="private" name="ShowError" display-name="ShowError" uuid="7345c481-4573-4844-89c3-a074d08d692e" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="InvokeTrigger" value="false" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked" form-action="open-dialog" form-by-id="false">
				<object access-modifier="private" uuid="e6ba3732-49ba-4ff8-aa86-c940095d32a5" base-type="MessageDialog" base-type-id="a468f863-f603-4768-ad4b-e16bc34ea78e" ver="5">
					<init target="Icon" ver="5" value="3"/>
					<init target="Buttons" ver="5" value="0"/>
					<designed target="WindowCaption" value="Ошибка" ver="5"/>
					<init target="Message" ver="5">
						<expr>
							<![CDATA[message]]>
						</expr>
					</init>
					<init target="pTheme" ver="5" ref="here.private.pTheme"/>
				</object>
			</do-on>
			<object access-modifier="private" name="message" display-name="message" uuid="0025e50f-ff63-40fd-a9a7-725ada8d3a78" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</object>
		<object access-modifier="private" name="pChart" display-name="pChart" uuid="cbeddc42-953d-4700-8c00-ef4323b574b7" base-type="Trends_Chart" base-type-id="659f73ba-7fa5-4aa4-ac4d-623541275829" base-const="true" base-ref="true" ver="5" description=""/>
		<init target="pChart" ver="5" ref="here.init_Chart"/>
		<do access-modifier="private" name="GetViewSettings" display-name="GetViewSettings" ver="5" type="string" type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d">
			<body kind="javascript">
				<![CDATA[// запоминаем ширину столбцов
View.StoreColumnWidth(Toolbar.Controls.cbMode.SelectedIndex);
	
var settings = {
	"ExportMode": Toolbar.Controls.cbMode.SelectedIndex,
	"SamplingInterval": Toolbar.Controls.cbInterval.GetInterval(),
	"BoundsFilter": Toolbar.Filters.ComboBounds.SelectedIndex,
	"QualityFilter": Toolbar.Filters.ComboQuality.SelectedIndex,
	"DescriptionPreferred": Toolbar.Options.cbDescription.State,
	"ShowQuality": Toolbar.Options.cbQuality.State,
	"ShowEUnit": Toolbar.Options.cbEUnit.State,
	"Columns" : {
		"Description": View.descriptionColumnWidth,
		"Tag": View.tagColumnWidth,
		"Value": View.valueColumnWidth,
		"EUnit": View.unitColumnWidth,
		"Time": View.timeColumnWidth,
		"Quality": View.qualityColumnWidth,
		"TimingValue": View.timingValueColumnWidth,
		"TimingEUnit": View.timingQualityColumnWidth,
		"TimingQuality": View.timingUnitColumnWidth
	}
};

return JSON.stringify(settings);]]>
			</body>
		</do>
		<do access-modifier="private" name="UpdateView" display-name="UpdateView" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="javascript">
				<![CDATA[if (json != "")
{
	var settings = JSON.parse(json);
	
	Toolbar.Controls.cbInterval.SetInterval(settings.SamplingInterval);
	Toolbar.Controls.cbMode.SelectedIndex = settings.ExportMode;
	Toolbar.Filters.ComboBounds.SelectedIndex = settings.BoundsFilter;
	Toolbar.Filters.ComboQuality.SelectedIndex = settings.QualityFilter;
	Toolbar.Options.cbDescription.State = settings.DescriptionPreferred;
	Toolbar.Options.cbQuality.State = settings.ShowQuality;
	Toolbar.Options.cbEUnit.State = settings.ShowEUnit;
	
	View.descriptionColumnWidth = settings.Columns.Description;
	View.tagColumnWidth = settings.Columns.Tag;
	View.valueColumnWidth = settings.Columns.Value;
	View.unitColumnWidth = settings.Columns.EUnit;
	View.timeColumnWidth = settings.Columns.Time;
	View.qualityColumnWidth = settings.Columns.Quality;
	View.timingValueColumnWidth = settings.Columns.TimingValue;
	View.timingQualityColumnWidth = settings.Columns.TimingQuality;
	View.timingUnitColumnWidth = settings.Columns.TimingEUnit;
}
else
{
	Toolbar.Controls.cbInterval.SetInterval(10);
	Toolbar.Controls.cbMode.SelectedIndex = 0;
	Toolbar.Filters.ComboBounds.SelectedIndex = 1;
	Toolbar.Filters.ComboQuality.SelectedIndex = 0;
	Toolbar.ItemFilters.ComboTag.SelectedIndex = 0;
	Toolbar.ItemFilters.ComboTitle.SelectedIndex = 0;
}]]>
			</body>
			<param access-modifier="private" name="json" display-name="" uuid="377be490-60ec-4d45-9b9e-79a37dfb84d1" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</do>
		<do access-modifier="private" name="Reload" display-name="Reload" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[//Debug.Log("Обновляем данные в талице в режиме " + Toolbar.Controls.cbMode.Text);

// удаляем все данные
Model.Reset();

// настраиваем столбцы таблицы
View.Initialize(mode);

// Обновляем фильтры
Toolbar.SetTitleFilter();
Toolbar.SetTagFilter();
Toolbar.SetBoundsFilter();
Toolbar.SetQualityFilter();

// Загружаем данные в таблицу
Model.Load(mode, interval);]]>
			</body>
			<param access-modifier="private" name="mode" display-name="" uuid="f05c249c-0c3d-44cb-9b81-2bf8719699ba" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
			<param access-modifier="private" name="interval" display-name="" uuid="ce95eec0-c7b3-4e9f-94d5-75e3a527f3fd" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
		</do>
		<object access-modifier="private" name="Model" display-name="Model" uuid="ce319557-233d-4848-bd2a-ccbc4f6a1fe4" base-type="TableModel" base-type-id="32b2875b-ee3e-454d-bcbb-40806a49273c" ver="5">
			<designed target="Frozen" value="false" ver="5"/>
			<designed target="MaxRowCount" value="2147483647" ver="5"/>
			<object access-modifier="private" name="Exporter" display-name="Exporter" uuid="ea2f6c6e-3479-4fc3-8284-51a83a4800d3" base-type="Exporter" base-type-id="2a508563-364d-4472-b86f-4a1a2242c583" ver="5">
				<designed target="Sort" value="true" ver="5"/>
				<designed target="SortColumnNumber" value="3" ver="5"/>
				<designed target="Parameters" value="" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="DataExportFailed">
					<body kind="om">
						<![CDATA[if (errorMessage != "")
{
	private.ShowError.message = errorMessage;	
	private.ShowError.Invoke();
}]]>
					</body>
				</do-on>
				<init target="Chart" ver="5" ref="init_Chart.Chart"/>
			</object>
			<do access-modifier="private" name="Load" display-name="Load" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
				<body kind="om">
					<![CDATA[/* Заполнить таблицу данными
mode
	0 - Перечень точек данных
	1 - Соответствие значений по времени
	2 - Дискретизация значений по времени

interval - интервал дискретизации в секундах, имеет смысл при mode = 2
*/

// формируем параметры экспорта
parameters: string = "{";
parameters += "\"export_mode\":" + String.ToString(mode);

parameters += ",\"lines_ids\":[";
i:int4 = 1;
while (i <= unit.Const.MAX_LINES)
{
	if (private.pChart.Params.Lines[i].Used)
		parameters += String.ToString(private.pChart.Line[i].ID) + ",";	
	i += 1;
}
parameters = String.Remove(parameters, String.Length(parameters)-1, 1) + "]";

if (mode > 0)
{
	parameters += ",\"consolidation_column\":\"timestamp\"";
	if (mode == 2) 
	{
		if (interval > 0) 
			parameters += ",\"interval\":" + String.ToString(interval);
		parameters += ",\"time_start\":" + String.ToString(private.pChart.private.DataIntervalBegin);
		parameters += ",\"time_end\":" + String.ToString(private.pChart.private.DataIntervalEnd);
	}
	parameters += ",\"columns\":[\"timestamp\",\"value\",\"quality\",\"unit\"]";
}
parameters += "}";
Exporter.Parameters = parameters;

// загружаем данные
Exporter.Reload();
BeginReadAsync();	]]>
				</body>
				<param access-modifier="private" name="mode" display-name="" uuid="b1c47558-f576-465a-b759-3aeed29327f3" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
				<param access-modifier="private" name="interval" display-name="" uuid="805b9739-ab8c-4693-b137-9df568278cf7" base-type="double" base-type-id="7ad62ecf-96dd-4751-9b96-e77954b44409" ver="5"/>
			</do>
			<designed target="OptOfProcessingEvents" value="0" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ReadFinished">
				<body kind="om">
					<![CDATA[//Debug.Log("Выполнена загрузка данных: " + String.ToString(rowsRead));
initialized = true;
Toolbar.Controls.btnSave.Update();]]>
				</body>
			</do-on>
		</object>
		<init target="pScreenKeyboard" ver="5" ref="here.init_ScreenKeyboard"/>
		<init target="pTheme" ver="5" ref="here.init_Theme"/>
	</object>
	<object access-modifier="private" name="Debug" display-name="Debug" uuid="3b86ac6d-9cd4-4ace-ab0b-fe377a5e3cb9" base-type="DebugTool" base-type-id="43946044-139a-43f4-a7b8-19a6074ffc56" ver="5"/>
	<object access-modifier="private" name="Files" display-name="Files" uuid="435f7ccb-b83a-4c3c-8962-b124cf639d85" base-type="FileSystem" base-type-id="34d744f9-7303-4077-a3f7-9c06c0945512" ver="5">
		<designed target="RootPath" value="/" ver="5"/>
	</object>
	<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="KeyPress">
		<body kind="om">
			<![CDATA[if (event.KeyCode == 75) // Esc
	Close();]]>
		</body>
	</do-on>
	<do-on access-modifier="private" name="Handler_2" display-name="Handler_2" ver="5" event="Opened">
		<body kind="om">
			<![CDATA[// на время просмотра табличного представления ставим проигрывание на паузу
if (private.pChart.ActiveMode == unit.Const.amOPERATIVE)
{
    private.isPlaying = private.pChart.private.bPlayStatus;
    if (private.isPlaying)
        private.pChart.SetPause(true);
}

// загружаем данные
private.Reload(Toolbar.Controls.cbMode.SelectedIndex, Toolbar.Controls.cbInterval.GetInterval());]]>
		</body>
	</do-on>
	<do-on access-modifier="private" name="Handler_5" display-name="Handler_5" ver="5" event="WindowActivationChanged">
		<body kind="om">
			<![CDATA[if (active)
	here.Focus = true;]]>
		</body>
	</do-on>
	<do-on access-modifier="private" name="Handler_6" display-name="Handler_6" ver="5" event="AboutToOpen">
		<body kind="om">
			<![CDATA[Toolbar.Initialize();
private.UpdateView(private.pChart.OpenDataTable.Settings);]]>
		</body>
	</do-on>
	<object access-modifier="private" name="Toolbar" display-name="Toolbar" uuid="67ce7e9a-c910-4722-8ec4-603aa217aec9" base-type="Rectangle" base-type-id="15726dc3-881e-4d8d-b0fa-a8f8237f08ca" ver="5">
		<designed target="X" value="0" ver="5"/>
		<designed target="Y" value="0" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<designed target="Scale" value="1" ver="5"/>
		<designed target="Visible" value="true" ver="5"/>
		<designed target="Enabled" value="true" ver="5"/>
		<designed target="Tooltip" value="" ver="5"/>
		<designed target="Width" value="1000" ver="5"/>
		<designed target="Height" value="65" ver="5"/>
		<designed target="RoundingRadius" value="0" ver="5"/>
		<designed target="PenColor" value="4278190080" ver="5"/>
		<designed target="PenStyle" value="0" ver="5"/>
		<designed target="PenWidth" value="1" ver="5"/>
		<designed target="BrushColor" value="0xfff0f0f0" ver="5"/>
		<designed target="BrushStyle" value="0" ver="5"/>
		<do access-modifier="private" name="Initialize" display-name="Initialize" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[Controls.cbMode.Initialize();
Controls.cbInterval.Initialize();

Filters.ComboQuality.AddItem("Любого качества");
Filters.ComboQuality.AddItem("Хорошего качества (>=192)");
Filters.ComboQuality.AddItem("Плохого качества (<192)");

Filters.ComboBounds.AddItem("С граничными точками");
Filters.ComboBounds.AddItem("Без граничных точек");

ItemFilters.ComboTag.AddItem("По всем тегам");

ItemFilters.ComboTitle.AddItem("По всем описаниям");

i:int4 = 1;
while (i <= unit.Const.MAX_LINES)
{
	if (private.pChart.Params.Lines[i].bVisible)
	{
		ItemFilters.ComboTag.AddItem(private.pChart.Params.Lines[i].Tag);
		if (private.pChart.Params.Lines[i].Description != "")
			ItemFilters.ComboTitle.AddItem(private.pChart.Params.Lines[i].Description);
	}
	i += 1;
}]]>
			</body>
		</do>
		<designed target="ZValue" value="0" ver="5"/>
		<designed target="Opacity" value="1" ver="5"/>
		<do access-modifier="private" name="SetTitleFilter" display-name="SetTitleFilter" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[titleFilter: string;
if (ItemFilters.ComboTitle.SelectedIndex > 0)
	titleFilter = "{\"==\" : { \"data\" : \"" + ItemFilters.ComboTitle.Text + "\" }}";
else titleFilter = "";

View.SetTitleFilter(Controls.cbMode.SelectedIndex, titleFilter);
Toolbar.Controls.btnSave.Update();]]>
			</body>
		</do>
		<do access-modifier="private" name="SetTagFilter" display-name="SetTagFilter" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[tagFilter: string;
if (ItemFilters.ComboTag.SelectedIndex > 0)
	tagFilter = "{\"==\" : { \"data\" : \"" + ItemFilters.ComboTag.Text + "\" }}";
else tagFilter = "";

View.SetTagFilter(Controls.cbMode.SelectedIndex, tagFilter);
Toolbar.Controls.btnSave.Update();]]>
			</body>
		</do>
		<do access-modifier="private" name="SetBoundsFilter" display-name="SetBoundsFilter" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[boundsFilter: string;
if (Filters.ComboBounds.SelectedIndex == 1)
{
	boundsFilter = "{\"AND\":[{\">\":{\"data\":" + 
		String.ToString(private.pChart.private.DataIntervalBegin) + "}},{\"<=\":{\"data\":" + 
		String.ToString(private.pChart.private.DataIntervalEnd) + "}}]}";
}
else boundsFilter = "";

View.SetBoundsFilter(Controls.cbMode.SelectedIndex, boundsFilter);
Toolbar.Controls.btnSave.Update();]]>
			</body>
		</do>
		<do access-modifier="private" name="SetQualityFilter" display-name="SetQualityFilter" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[qualityFilter: string;
if (Filters.ComboQuality.SelectedIndex == 1)
	qualityFilter = "{\">\":{\"data\":191}}";
else if (Filters.ComboQuality.SelectedIndex == 2)
	qualityFilter = "{\"<\":{\"data\":192}}";
else qualityFilter = "";

View.SetQualityFilter(Controls.cbMode.SelectedIndex, qualityFilter);
Toolbar.Controls.btnSave.Update();]]>
			</body>
		</do>
		<designed target="Flip" value="0" ver="5"/>
		<object access-modifier="private" name="Controls" display-name="Controls" uuid="453d8599-d518-448f-8dce-7710b3f5bf74" base-type="Rectangle" base-type-id="15726dc3-881e-4d8d-b0fa-a8f8237f08ca" ver="5" description="" cardinal="1">
			<designed target="X" value="0" ver="5"/>
			<designed target="Y" value="0" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Flip" value="0" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="" ver="5"/>
			<designed target="Width" value="295" ver="5"/>
			<designed target="Height" value="70" ver="5"/>
			<designed target="RoundingRadius" value="0" ver="5"/>
			<designed target="PenColor" value="4278190080" ver="5"/>
			<designed target="PenStyle" value="0" ver="5"/>
			<designed target="PenWidth" value="1" ver="5"/>
			<designed target="BrushColor" value="4278190080" ver="5"/>
			<designed target="BrushStyle" value="0" ver="5"/>
			<object access-modifier="private" name="btnSave" display-name="btnSave" uuid="a199eccf-821f-4731-9c2d-ac23c4485371" base-type="Button" base-type-id="61e46e4a-827f-4dd2-ac8a-b68bcaddf442" ver="5">
				<designed target="X" value="10" ver="5"/>
				<designed target="Y" value="10" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Scale" value="1" ver="5"/>
				<designed target="Visible" value="true" ver="5"/>
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="Tooltip" value="Экспортировать таблицу с данными в файл..." ver="5"/>
				<designed target="Width" value="40" ver="5"/>
				<designed target="Height" value="40" ver="5"/>
				<designed target="Checkable" value="false" ver="5"/>
				<designed target="Text" value="" ver="5"/>
				<designed target="TextAlignment" value="132" ver="5"/>
				<designed target="Font" value="Tahoma,8.25,-1,5,50,0,0,0,0,0" ver="5"/>
				<designed target="FontColor" value="0xff000000" ver="5"/>
				<designed target="OnClickFontColor" value="0xff000000" ver="5"/>
				<designed target="OnHoverFontColor" value="0xff000000" ver="5"/>
				<designed target="BrushColor" value="0xfff0f0f0" ver="5"/>
				<designed target="BrushStyle" value="1" ver="5"/>
				<designed target="OnClickBrushColor" value="0xffa0a0a0" ver="5"/>
				<designed target="OnClickBrushStyle" value="1" ver="5"/>
				<designed target="OnHoverBrushColor" value="0xffffffff" ver="5"/>
				<designed target="OnHoverBrushStyle" value="1" ver="5"/>
				<designed target="PenColor" value="0xff808080" ver="5"/>
				<designed target="PenStyle" value="1" ver="5"/>
				<designed target="PenWidth" value="1" ver="5"/>
				<designed target="OnClickPenColor" value="0xff000000" ver="5"/>
				<designed target="OnClickPenStyle" value="1" ver="5"/>
				<designed target="OnClickPenWidth" value="1" ver="5"/>
				<designed target="OnHoverPenColor" value="0xff000000" ver="5"/>
				<designed target="OnHoverPenStyle" value="1" ver="5"/>
				<designed target="OnHoverPenWidth" value="1" ver="5"/>
				<designed target="DisabledFontColor" value="0xff808080" ver="5"/>
				<designed target="DisabledBrushColor" value="0xfff0f0f0" ver="5"/>
				<designed target="DisabledBrushStyle" value="1" ver="5"/>
				<designed target="DisabledPenColor" value="0xffa0a0a0" ver="5"/>
				<designed target="DisabledPenStyle" value="1" ver="5"/>
				<designed target="DisabledPenWidth" value="1" ver="5"/>
				<designed target="ZValue" value="0" ver="5"/>
				<designed target="Opacity" value="1" ver="5"/>
				<designed target="Checked" value="false" ver="5"/>
				<object access-modifier="private" name="Icon" display-name="Icon" uuid="5fbb54bd-1274-4d69-add7-8e12d2a48629" base-type="Image" base-type-id="5a6b2782-c728-4a42-8c02-1a83ef97e138" ver="5">
					<designed target="X" value="4" ver="5"/>
					<designed target="Y" value="4" ver="5"/>
					<designed target="ZValue" value="0" ver="5"/>
					<designed target="Rotation" value="0" ver="5"/>
					<designed target="Scale" value="1" ver="5"/>
					<designed target="Visible" value="true" ver="5"/>
					<designed target="Opacity" value="1" ver="5"/>
					<designed target="Enabled" value="true" ver="5"/>
					<designed target="Tooltip" value="" ver="5"/>
					<designed target="Width" value="32" ver="5"/>
					<designed target="Height" value="33" ver="5"/>
					<designed target="PenColor" value="4278190080" ver="5"/>
					<designed target="PenStyle" value="0" ver="5"/>
					<designed target="PenWidth" value="1" ver="5"/>
					<designed target="ImageFile" value="Trends_Icons/ExportToFile.png" ver="5"/>
					<designed target="Active" value="true" ver="5"/>
					<designed target="CurrentFrameNumber" value="0" ver="5"/>
					<designed target="Speed" value="1" ver="5"/>
					<designed target="Flip" value="0" ver="5"/>
				</object>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ButtonPressed" form-action="open-dialog" form-by-id="false">
					<object access-modifier="private" uuid="c4c5028a-7902-44ea-b9eb-8335468559b3" base-type="SaveFileDialog" base-type-id="d69a91c3-89e9-4e7b-994e-9242dbc5e095" ver="5">
						<init target="OnComplete" ver="5" ref="Complete"/>
						<init target="Result" ver="5" ref="DialogResult"/>
						<init target="RootPath" ver="5" ref="here.private.pChart.ExportPath.Root"/>
						<init target="DefaultPath" ver="5" ref="here.private.pChart.ExportPath"/>
						<init target="FileTypeFilter" ver="5">
							<expr>
								<![CDATA[here.private.pChart.private.GetExportFileFilter()]]>
							</expr>
						</init>
						<init target="DefaultFileType" ver="5" ref="here.private.pChart.ShowExportDialog.FileType"/>
						<init target="init_Theme" ver="5" ref="here.private.pTheme"/>
						<init target="init_ScreenKeyboard" ver="5" ref="here.private.pScreenKeyboard"/>
					</object>
				</do-on>
				<do-on access-modifier="private" name="Handler_2" display-name="Handler_2" ver="5" event="ButtonPressed">
					<body kind="om">
						<![CDATA[Files.CreateRecursiveFolder(private.pChart.ExportPath);]]>
					</body>
				</do-on>
				<designed target="Flip" value="0" ver="5"/>
				<object access-modifier="private" name="DialogResult" display-name="DialogResult" uuid="33000800-b97e-4db9-a308-4534b7a262e3" base-type="FileDialogResult" base-type-id="602926f1-7d01-4d50-a5c0-d8fd35eadc74" ver="5"/>
				<object access-modifier="private" name="Complete" display-name="Complete" uuid="566a5a0b-6e74-42a1-9010-c7e4cb97659c" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
					<designed target="Enabled" value="true" ver="5"/>
					<designed target="InvokeTrigger" value="false" ver="5"/>
					<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
						<body kind="om">
							<![CDATA[// выполняем сохранение
filePath: string = DialogResult.FilePath;
if (DialogResult.FileType == 0)
	View.Save(filePath,"csv");
else if (DialogResult.FileType == 1)
	View.Save(filePath,"xlsx");
else if (DialogResult.FileType == 2)
	View.Save(filePath,"pdf");
	
// запоминаем тип файла
private.pChart.ShowExportDialog.FileType = DialogResult.FileType;

// запоминаем настройки
private.pChart.OpenDataTable.Settings = private.GetViewSettings();

// уведомляем о том, что сохранение выполнено
private.ShowComplete.message = "Табличные данные сохранены в файл\n" + filePath;
private.ShowComplete.Invoke();

private.pChart.private.EventParams[0] = filePath;
private.pChart.pOnTableExport.Invoke();]]>
						</body>
					</do-on>
				</object>
				<do access-modifier="private" name="Update" display-name="Update" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
					<body kind="om">
						<![CDATA[Enabled = View.GetRowCount() != 0;
Opacity = Enabled ? 1 : 0.5;]]>
					</body>
				</do>
			</object>
			<object access-modifier="private" name="cbMode" display-name="cbMode" uuid="c8c2e4da-9469-4c0c-9619-d21f3a174394" base-type="ComboBox" base-type-id="3495bcd2-01f2-4709-b7f4-e9cf6f3a00bc" ver="5">
				<designed target="X" value="60" ver="5"/>
				<designed target="Y" value="5" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Scale" value="1" ver="5"/>
				<designed target="Visible" value="true" ver="5"/>
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="Tooltip" value="" ver="5"/>
				<designed target="Width" value="230" ver="5"/>
				<designed target="Height" value="25" ver="5"/>
				<designed target="Editable" value="false" ver="5"/>
				<designed target="Text" value="" ver="5"/>
				<designed target="SelectedIndex" value="-1" ver="5"/>
				<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="5"/>
				<designed target="FontColor" value="4278190080" ver="5"/>
				<designed target="MaxVisibleItems" value="10" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="SelectedChanged">
					<body kind="om">
						<![CDATA[if (oldSelected != selected)
{
	if (private.initialized)
	{
		View.StoreColumnWidth(oldSelected);
		private.Reload(selected, cbInterval.GetInterval());
	}

	oldSelected = selected;
	
	// В режимах сведения и дисретизации отображаются данные всех сигналов
	if (selected == 1 || selected == 2)
	{
		ItemFilters.ComboTitle.SelectedIndex = 0;
		ItemFilters.ComboTag.SelectedIndex = 0;
	}
}]]>
					</body>
				</do-on>
				<designed target="ZValue" value="0" ver="5"/>
				<designed target="Opacity" value="1" ver="5"/>
				<do access-modifier="private" name="Initialize" display-name="Initialize" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
					<body kind="om">
						<![CDATA[AddItem("Перечень точек данных");
AddItem("Соответствие значений по времени");
AddItem("Дискретизация значений по времени");]]>
					</body>
				</do>
				<designed target="Flip" value="0" ver="5"/>
				<designed target="InsertPolicy" value="3" ver="5"/>
				<object access-modifier="private" name="oldSelected" display-name="oldSelected" uuid="499a49a2-7efb-4029-b5cc-ff9b8e60a425" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5" description="" cardinal="1"/>
				<init target="oldSelected" ver="5" value="-1"/>
			</object>
			<object access-modifier="private" name="cbInterval" display-name="cbInterval" uuid="ea5e352c-8d18-47e0-8d24-61f6df175321" base-type="ComboBox" base-type-id="3495bcd2-01f2-4709-b7f4-e9cf6f3a00bc" ver="5">
				<designed target="X" value="190" ver="5"/>
				<designed target="Y" value="35" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Scale" value="1" ver="5"/>
				<designed target="Visible" value="true" ver="5"/>
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="Tooltip" value="" ver="5"/>
				<designed target="Width" value="100" ver="5"/>
				<designed target="Height" value="25" ver="5"/>
				<designed target="Editable" value="false" ver="5"/>
				<designed target="Text" value="" ver="5"/>
				<designed target="SelectedIndex" value="-1" ver="5"/>
				<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="5"/>
				<designed target="FontColor" value="4278190080" ver="5"/>
				<designed target="MaxVisibleItems" value="10" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="SelectedChanged">
					<body kind="om">
						<![CDATA[if (selected > -1 && cbMode.SelectedIndex == 2)
{
	if (private.initialized)
		private.Reload(cbMode.SelectedIndex, GetInterval());
}]]>
					</body>
				</do-on>
				<designed target="ZValue" value="0" ver="5"/>
				<designed target="Opacity" value="1" ver="5"/>
				<do access-modifier="private" name="Initialize" display-name="Initialize" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
					<body kind="om">
						<![CDATA[AddItem("1 секунда");
AddItem("10 секунд");
AddItem("30 секунд");
AddItem("1 минута");
AddItem("10 минут");
AddItem("30 минут");
AddItem("1 час");
AddItem("12 часов");
AddItem("24 часа");]]>
					</body>
				</do>
				<do access-modifier="private" name="GetInterval" display-name="GetInterval" ver="5" type="int4" type-id="74222947-f188-4195-8e0e-e33bd9827255">
					<body kind="om">
						<![CDATA[if (SelectedIndex == 0) return 1; // 1 секунда
else if (SelectedIndex == 1) return 10; // 10 секунд
else if (SelectedIndex == 2) return 30; // 30 секунд
else if (SelectedIndex == 3) return 60; // 1 минута
else if (SelectedIndex == 4) return 10*60; // 10 минут
else if (SelectedIndex == 5) return 30*60; // 30 минут
else if (SelectedIndex == 6) return 60*60; // 1 час
else if (SelectedIndex == 7) return 12*60*60; // 12 часов
else if (SelectedIndex == 8) return 24*60*60; // 24 часа
else return 0;]]>
					</body>
				</do>
				<do-trace access-modifier="private" target="Visible" ver="5">
					<body>
						<![CDATA[cbMode.SelectedIndex == 2]]>
					</body>
				</do-trace>
				<object access-modifier="private" name="Label" display-name="Label" uuid="bcc70b42-3c49-4237-9530-b8b4fe7da6ea" base-type="Text" base-type-id="21d59f8d-2ca4-4592-92ca-b4dc48992a0f" ver="5">
					<designed target="X" value="-130" ver="5"/>
					<designed target="Y" value="0" ver="5"/>
					<designed target="ZValue" value="0" ver="5"/>
					<designed target="Rotation" value="0" ver="5"/>
					<designed target="Scale" value="1" ver="5"/>
					<designed target="Visible" value="true" ver="5"/>
					<designed target="Opacity" value="1" ver="5"/>
					<designed target="Enabled" value="true" ver="5"/>
					<designed target="Tooltip" value="" ver="5"/>
					<designed target="Width" value="125" ver="5"/>
					<designed target="Height" value="25" ver="5"/>
					<designed target="Text" value="Интервал" ver="5"/>
					<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
					<designed target="FontColor" value="4278190080" ver="5"/>
					<designed target="TextAlignment" value="130" ver="5"/>
					<do-trace access-modifier="private" target="FontColor" ver="5">
						<body>
							<![CDATA[private.pTheme.ForegroundColor]]>
						</body>
					</do-trace>
					<designed target="Flip" value="0" ver="5"/>
				</object>
				<designed target="Flip" value="0" ver="5"/>
				<designed target="InsertPolicy" value="3" ver="5"/>
				<do access-modifier="private" name="SetInterval" display-name="SetInterval" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
					<body kind="om">
						<![CDATA[if (value == 1)
	SelectedIndex = 0; // 1 секунда
else if (value == 10)
	SelectedIndex = 1; // 10 секунд
else if (value == 30)
	SelectedIndex = 2; // 30 секунд
else if (value == 60)
	SelectedIndex = 3; // 1 минута
else if (value == 10*60)
	SelectedIndex = 4; // 10 минут
else if (value == 30*60)
	SelectedIndex = 5; // 30 минут
else if (value == 60*60)
	SelectedIndex = 6; // 1 час
else if (value == 12*60*60)
	SelectedIndex = 7; // 12 часов
else if (value == 24*60*60)
	SelectedIndex = 8; // 24 часа
else SelectedIndex = 1;]]>
					</body>
					<param access-modifier="private" name="value" display-name="" uuid="cdc7cf27-9f83-482e-8b65-ec5a8795208b" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
				</do>
			</object>
			<object access-modifier="private" name="SizeLimits" display-name="SizeLimits" uuid="106df3e2-1418-4b7c-8573-1ba24a26b164" base-type="LayoutSizeLimits" base-type-id="10342c1f-560b-4160-9de5-7e2c08026f47" ver="5" description="" cardinal="1">
				<designed target="MinWidth" value="0" ver="5"/>
				<designed target="MinHeight" value="0" ver="5"/>
				<designed target="MaxWidth" value="300" ver="5"/>
				<designed target="MaxHeight" value="16777215" ver="5"/>
			</object>
		</object>
		<object access-modifier="private" name="ItemFilters" display-name="ItemFilters" uuid="3e718576-7eea-4897-887e-42e478e617b3" base-type="Rectangle" base-type-id="15726dc3-881e-4d8d-b0fa-a8f8237f08ca" ver="5" description="" cardinal="1">
			<designed target="X" value="0" ver="5"/>
			<designed target="Y" value="0" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Flip" value="0" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="" ver="5"/>
			<designed target="Width" value="215" ver="5"/>
			<designed target="Height" value="70" ver="5"/>
			<designed target="RoundingRadius" value="0" ver="5"/>
			<designed target="PenColor" value="4278190080" ver="5"/>
			<designed target="PenStyle" value="0" ver="5"/>
			<designed target="PenWidth" value="1" ver="5"/>
			<designed target="BrushColor" value="4278190080" ver="5"/>
			<designed target="BrushStyle" value="0" ver="5"/>
			<object access-modifier="private" name="ComboTitle" display-name="ComboTitle" uuid="d51df486-bc40-4db1-9a55-8afd429e89c8" base-type="ComboBox" base-type-id="3495bcd2-01f2-4709-b7f4-e9cf6f3a00bc" ver="5">
				<designed target="X" value="5" ver="5"/>
				<designed target="Y" value="5" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Scale" value="1" ver="5"/>
				<designed target="Visible" value="true" ver="5"/>
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="Tooltip" value="" ver="5"/>
				<designed target="Width" value="290" ver="5"/>
				<designed target="Height" value="25" ver="5"/>
				<designed target="Editable" value="false" ver="5"/>
				<designed target="Text" value="" ver="5"/>
				<designed target="SelectedIndex" value="-1" ver="5"/>
				<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="5"/>
				<designed target="FontColor" value="4278190080" ver="5"/>
				<designed target="MaxVisibleItems" value="10" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="SelectedChanged">
					<body kind="om">
						<![CDATA[if (selected > -1)
{
	if (Controls.cbMode.SelectedIndex == 1)
	{
		if (selected > 0)
		{
			// для фильтрации по сигналу в режиме сведения переключаем режим на список точек
			// фильтрация выполнится после переключения режима
			Controls.cbMode.SelectedIndex = 0;
		}
	}
	else
		SetTitleFilter();

	// сбрасываем фильтр по тегу
	if (selected > 0)
		ComboTag.SelectedIndex = 0;
}]]>
					</body>
				</do-on>
				<designed target="ZValue" value="0" ver="5"/>
				<designed target="Opacity" value="1" ver="5"/>
				<designed target="Flip" value="0" ver="5"/>
				<designed target="InsertPolicy" value="3" ver="5"/>
				<object access-modifier="private" name="Margins" display-name="Margins" uuid="72424322-c994-438d-a926-03dd4d56b430" base-type="LayoutMargins" base-type-id="d86ce751-1ea7-42c6-8d4b-10c651a2727d" ver="5" description="" cardinal="1">
					<designed target="Top" value="5" ver="5"/>
					<designed target="Bottom" value="0" ver="5"/>
					<designed target="Left" value="5" ver="5"/>
					<designed target="Right" value="5" ver="5"/>
				</object>
				<object access-modifier="private" name="SizeLimits" display-name="SizeLimits" uuid="4ac391e0-f3ac-4713-a765-7de13d07f103" base-type="LayoutSizeLimits" base-type-id="10342c1f-560b-4160-9de5-7e2c08026f47" ver="5" description="" cardinal="1">
					<designed target="MinWidth" value="0" ver="5"/>
					<designed target="MinHeight" value="25" ver="5"/>
					<designed target="MaxWidth" value="16777215" ver="5"/>
					<designed target="MaxHeight" value="25" ver="5"/>
				</object>
				<do-trace access-modifier="private" target="Enabled" ver="5">
					<body>
						<![CDATA[Controls.cbMode.SelectedIndex == 0]]>
					</body>
				</do-trace>
			</object>
			<object access-modifier="private" name="ComboTag" display-name="ComboTag" uuid="1c3c3dfa-6d7f-4fc7-8549-fc9dfc9e7a4b" base-type="ComboBox" base-type-id="3495bcd2-01f2-4709-b7f4-e9cf6f3a00bc" ver="5">
				<designed target="X" value="5" ver="5"/>
				<designed target="Y" value="35" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Scale" value="1" ver="5"/>
				<designed target="Visible" value="true" ver="5"/>
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="Tooltip" value="" ver="5"/>
				<designed target="Width" value="290" ver="5"/>
				<designed target="Height" value="25" ver="5"/>
				<designed target="Editable" value="false" ver="5"/>
				<designed target="Text" value="" ver="5"/>
				<designed target="SelectedIndex" value="-1" ver="5"/>
				<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="5"/>
				<designed target="FontColor" value="4278190080" ver="5"/>
				<designed target="MaxVisibleItems" value="10" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="SelectedChanged">
					<body kind="om">
						<![CDATA[if (selected > -1)
{
	if (Controls.cbMode.SelectedIndex == 1)
	{
		if (selected > 0)
		{
			// для фильтрации по тегу в режиме сведения переключаем режим на список точек
			// фильтрация выполнится после переключения режима
			Controls.cbMode.SelectedIndex = 0;
		}
	}
	else
		SetTagFilter();
		
	// сбрасываем фильтр по сигналу
	if (selected > 0)
		ComboTitle.SelectedIndex = 0;
}]]>
					</body>
				</do-on>
				<designed target="ZValue" value="0" ver="5"/>
				<designed target="Opacity" value="1" ver="5"/>
				<designed target="Flip" value="0" ver="5"/>
				<designed target="InsertPolicy" value="3" ver="5"/>
				<object access-modifier="private" name="Margins" display-name="Margins" uuid="a1e39386-a625-4a17-b9cc-394c5df8425b" base-type="LayoutMargins" base-type-id="d86ce751-1ea7-42c6-8d4b-10c651a2727d" ver="5" description="" cardinal="1">
					<designed target="Top" value="5" ver="5"/>
					<designed target="Bottom" value="0" ver="5"/>
					<designed target="Left" value="5" ver="5"/>
					<designed target="Right" value="5" ver="5"/>
				</object>
				<object access-modifier="private" name="SizeLimits" display-name="SizeLimits" uuid="ab415be7-42da-4054-92d0-372c400ca8e3" base-type="LayoutSizeLimits" base-type-id="10342c1f-560b-4160-9de5-7e2c08026f47" ver="5" description="" cardinal="1">
					<designed target="MinWidth" value="0" ver="5"/>
					<designed target="MinHeight" value="25" ver="5"/>
					<designed target="MaxWidth" value="16777215" ver="5"/>
					<designed target="MaxHeight" value="25" ver="5"/>
				</object>
				<do-trace access-modifier="private" target="Enabled" ver="5">
					<body>
						<![CDATA[Controls.cbMode.SelectedIndex == 0]]>
					</body>
				</do-trace>
			</object>
			<object access-modifier="private" name="Layout" display-name="Layout" uuid="931bfa30-dbdd-4ed4-8e93-b77868bd1d61" base-type="LinearLayout" base-type-id="800edd71-7303-408c-890b-8346e98f5718" ver="5" description="" cardinal="1">
				<designed target="Orientation" value="2" ver="5"/>
				<designed target="Gap" value="0" ver="5"/>
			</object>
		</object>
		<object access-modifier="private" name="Filters" display-name="Filters" uuid="dd0b13b2-1fd8-49fc-91e2-6432793b9f95" base-type="Rectangle" base-type-id="15726dc3-881e-4d8d-b0fa-a8f8237f08ca" ver="5" description="" cardinal="1">
			<designed target="X" value="0" ver="5"/>
			<designed target="Y" value="0" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Flip" value="0" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="" ver="5"/>
			<designed target="Width" value="215" ver="5"/>
			<designed target="Height" value="70" ver="5"/>
			<designed target="RoundingRadius" value="0" ver="5"/>
			<designed target="PenColor" value="4278190080" ver="5"/>
			<designed target="PenStyle" value="0" ver="5"/>
			<designed target="PenWidth" value="1" ver="5"/>
			<designed target="BrushColor" value="4278190080" ver="5"/>
			<designed target="BrushStyle" value="0" ver="5"/>
			<object access-modifier="private" name="ComboBounds" display-name="ComboBounds" uuid="3f940f96-3a09-4b20-96dc-6d7be35e12f2" base-type="ComboBox" base-type-id="3495bcd2-01f2-4709-b7f4-e9cf6f3a00bc" ver="5">
				<designed target="X" value="5" ver="5"/>
				<designed target="Y" value="5" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Scale" value="1" ver="5"/>
				<designed target="Visible" value="true" ver="5"/>
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="Tooltip" value="" ver="5"/>
				<designed target="Width" value="160" ver="5"/>
				<designed target="Height" value="25" ver="5"/>
				<designed target="Editable" value="false" ver="5"/>
				<designed target="Text" value="" ver="5"/>
				<designed target="SelectedIndex" value="-1" ver="5"/>
				<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="5"/>
				<designed target="FontColor" value="4278190080" ver="5"/>
				<designed target="MaxVisibleItems" value="10" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="SelectedChanged">
					<body kind="om">
						<![CDATA[if (selected > -1)
	SetBoundsFilter();
]]>
					</body>
				</do-on>
				<designed target="ZValue" value="0" ver="5"/>
				<designed target="Opacity" value="1" ver="5"/>
				<designed target="Flip" value="0" ver="5"/>
				<designed target="InsertPolicy" value="3" ver="5"/>
			</object>
			<object access-modifier="private" name="ComboQuality" display-name="ComboQuality" uuid="c8a6a2d2-aeb9-489f-b8be-d1ae56b14480" base-type="ComboBox" base-type-id="3495bcd2-01f2-4709-b7f4-e9cf6f3a00bc" ver="5">
				<designed target="X" value="5" ver="5"/>
				<designed target="Y" value="35" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Scale" value="1" ver="5"/>
				<designed target="Visible" value="true" ver="5"/>
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="Tooltip" value="" ver="5"/>
				<designed target="Width" value="160" ver="5"/>
				<designed target="Height" value="25" ver="5"/>
				<designed target="Editable" value="false" ver="5"/>
				<designed target="Text" value="" ver="5"/>
				<designed target="SelectedIndex" value="-1" ver="5"/>
				<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="5"/>
				<designed target="FontColor" value="4278190080" ver="5"/>
				<designed target="MaxVisibleItems" value="10" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="SelectedChanged">
					<body kind="om">
						<![CDATA[if (selected > -1)
	SetQualityFilter();]]>
					</body>
				</do-on>
				<designed target="ZValue" value="0" ver="5"/>
				<designed target="Opacity" value="1" ver="5"/>
				<designed target="Flip" value="0" ver="5"/>
				<designed target="InsertPolicy" value="3" ver="5"/>
			</object>
			<object access-modifier="private" name="SizeLimits" display-name="SizeLimits" uuid="801265eb-63e4-43b1-aa2f-a7586315705f" base-type="LayoutSizeLimits" base-type-id="10342c1f-560b-4160-9de5-7e2c08026f47" ver="5" description="" cardinal="1">
				<designed target="MinWidth" value="0" ver="5"/>
				<designed target="MinHeight" value="0" ver="5"/>
				<designed target="MaxWidth" value="170" ver="5"/>
				<designed target="MaxHeight" value="16777215" ver="5"/>
			</object>
		</object>
		<object access-modifier="private" name="Options" display-name="Options" uuid="f6965a2b-386c-412b-ad71-4de64b4ad8d8" base-type="Rectangle" base-type-id="15726dc3-881e-4d8d-b0fa-a8f8237f08ca" ver="5" description="" cardinal="1">
			<designed target="X" value="0" ver="5"/>
			<designed target="Y" value="0" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Flip" value="0" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="" ver="5"/>
			<designed target="Width" value="215" ver="5"/>
			<designed target="Height" value="70" ver="5"/>
			<designed target="RoundingRadius" value="0" ver="5"/>
			<designed target="PenColor" value="4278190080" ver="5"/>
			<designed target="PenStyle" value="0" ver="5"/>
			<designed target="PenWidth" value="1" ver="5"/>
			<designed target="BrushColor" value="4278190080" ver="5"/>
			<designed target="BrushStyle" value="0" ver="5"/>
			<object access-modifier="private" name="cbDescription" display-name="cbDescription" uuid="42095ce1-792b-4093-83a7-3cf36559592b" base-type="Checkbox" base-type-id="ba26cad1-a080-4c5d-8847-ce576488cf3f" ver="5" description="" cardinal="1">
				<designed target="X" value="0" ver="5"/>
				<designed target="Y" value="0" ver="5"/>
				<designed target="ZValue" value="0" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Scale" value="1" ver="5"/>
				<designed target="Flip" value="0" ver="5"/>
				<designed target="Visible" value="true" ver="5"/>
				<designed target="Opacity" value="1" ver="5"/>
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="Tooltip" value="" ver="5"/>
				<designed target="Width" value="220" ver="5"/>
				<designed target="Height" value="20.666666666666668" ver="5"/>
				<designed target="Text" value="Показывать описание вместо тега" ver="5"/>
				<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="5"/>
				<designed target="FontColor" value="4278190080" ver="5"/>
				<designed target="State" value="true" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="StateChanged">
					<body kind="om">
						<![CDATA[View.UpdateColumnsTitle();]]>
					</body>
				</do-on>
				<do-trace access-modifier="private" target="Enabled" ver="5">
					<body>
						<![CDATA[Controls.cbMode.SelectedIndex == 1 ||
Controls.cbMode.SelectedIndex == 2]]>
					</body>
				</do-trace>
				<do-trace access-modifier="private" target="FontColor" ver="5">
					<body>
						<![CDATA[private.pTheme.ForegroundColor]]>
					</body>
				</do-trace>
			</object>
			<object access-modifier="private" name="cbEUnit" display-name="cbEUnit" uuid="8daf2d89-e8a2-4d71-9291-04e13d07159d" base-type="Checkbox" base-type-id="ba26cad1-a080-4c5d-8847-ce576488cf3f" ver="5" description="" cardinal="1">
				<designed target="X" value="0" ver="5"/>
				<designed target="Y" value="20.666666666666668" ver="5"/>
				<designed target="ZValue" value="0" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Scale" value="1" ver="5"/>
				<designed target="Flip" value="0" ver="5"/>
				<designed target="Visible" value="true" ver="5"/>
				<designed target="Opacity" value="1" ver="5"/>
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="Tooltip" value="" ver="5"/>
				<designed target="Width" value="220" ver="5"/>
				<designed target="Height" value="20.666666666666668" ver="5"/>
				<designed target="Text" value="Отображать единицы измерения" ver="5"/>
				<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="5"/>
				<designed target="FontColor" value="4278190080" ver="5"/>
				<designed target="State" value="true" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="StateChanged">
					<body kind="om">
						<![CDATA[View.SetUnitColumnsVisible(Controls.cbMode.SelectedIndex, state);]]>
					</body>
				</do-on>
				<do-trace access-modifier="private" target="FontColor" ver="5">
					<body>
						<![CDATA[private.pTheme.ForegroundColor]]>
					</body>
				</do-trace>
			</object>
			<object access-modifier="private" name="cbQuality" display-name="cbQuality" uuid="e2a54b37-1840-4d85-a17c-87bdae169c39" base-type="Checkbox" base-type-id="ba26cad1-a080-4c5d-8847-ce576488cf3f" ver="5" description="" cardinal="1">
				<designed target="X" value="0" ver="5"/>
				<designed target="Y" value="41.333333333333336" ver="5"/>
				<designed target="ZValue" value="0" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Scale" value="1" ver="5"/>
				<designed target="Flip" value="0" ver="5"/>
				<designed target="Visible" value="true" ver="5"/>
				<designed target="Opacity" value="1" ver="5"/>
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="Tooltip" value="" ver="5"/>
				<designed target="Width" value="220" ver="5"/>
				<designed target="Height" value="20.666666666666668" ver="5"/>
				<designed target="Text" value="Отображать качество значений" ver="5"/>
				<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="5"/>
				<designed target="FontColor" value="4278190080" ver="5"/>
				<designed target="State" value="true" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="StateChanged">
					<body kind="om">
						<![CDATA[View.SetQualityColumnsVisible(Controls.cbMode.SelectedIndex, state);]]>
					</body>
				</do-on>
				<do-trace access-modifier="private" target="FontColor" ver="5">
					<body>
						<![CDATA[private.pTheme.ForegroundColor]]>
					</body>
				</do-trace>
			</object>
			<object access-modifier="private" name="SizeLimits" display-name="SizeLimits" uuid="5e7b5f2b-84a1-479b-a72c-31da4e4053af" base-type="LayoutSizeLimits" base-type-id="10342c1f-560b-4160-9de5-7e2c08026f47" ver="5" description="" cardinal="1">
				<designed target="MinWidth" value="0" ver="5"/>
				<designed target="MinHeight" value="0" ver="5"/>
				<designed target="MaxWidth" value="220" ver="5"/>
				<designed target="MaxHeight" value="16777215" ver="5"/>
			</object>
			<object access-modifier="private" name="Layout" display-name="Layout" uuid="eeaf7bd4-e1ab-4348-81c7-573204c4023a" base-type="LinearLayout" base-type-id="800edd71-7303-408c-890b-8346e98f5718" ver="5" description="" cardinal="1">
				<designed target="Orientation" value="2" ver="5"/>
				<designed target="Gap" value="0" ver="5"/>
			</object>
			<object access-modifier="private" name="Margins" display-name="Margins" uuid="91010178-bb2a-4f4d-9912-fcbeab182ffb" base-type="LayoutMargins" base-type-id="d86ce751-1ea7-42c6-8d4b-10c651a2727d" ver="5" description="" cardinal="1">
				<designed target="Top" value="3" ver="5"/>
				<designed target="Bottom" value="0" ver="5"/>
				<designed target="Left" value="5" ver="5"/>
				<designed target="Right" value="5" ver="5"/>
			</object>
		</object>
		<object access-modifier="private" name="Layout" display-name="Layout" uuid="8e8736a8-37eb-40d1-9cfa-5052a89b6fc5" base-type="LinearLayout" base-type-id="800edd71-7303-408c-890b-8346e98f5718" ver="5" description="" cardinal="1">
			<designed target="Orientation" value="1" ver="5"/>
			<designed target="Gap" value="0" ver="5"/>
		</object>
	</object>
	<designed target="ZValue" value="0" ver="5"/>
	<designed target="Opacity" value="1" ver="5"/>
	<do-on access-modifier="private" name="Handler_3" display-name="Handler_3" ver="5" event="WindowSizeChanged">
		<body kind="om">
			<![CDATA[Width = WindowWidth;
Height = WindowHeight;

Toolbar.Width = Width;

View.Width = Width - 10;
View.Height = Height - Toolbar.Height - 10;]]>
		</body>
	</do-on>
	<do-on access-modifier="private" name="Handler_4" display-name="Handler_4" ver="5" event="Closed">
		<body kind="om">
			<![CDATA[// запускаем проигрывание, если оно было преостановлено при открытии формы
if (private.pChart.ActiveMode == unit.Const.amOPERATIVE)
{
	if (private.isPlaying)
		private.pChart.SetPause(false);
}

// запоминаем настройки
private.pChart.OpenDataTable.Settings = private.GetViewSettings();]]>
		</body>
	</do-on>
	<do-trace access-modifier="private" target="BrushColor" ver="5">
		<body>
			<![CDATA[private.pTheme.BackgroundColor]]>
		</body>
	</do-trace>
	<object access-modifier="private" name="View" display-name="View" uuid="7fb735f9-343b-44a0-a73a-fda5a7cd624c" base-type="Table" base-type-id="c65ff4dc-f22b-47d3-9333-72c4e4e5f662" ver="5">
		<designed target="X" value="5" ver="5"/>
		<designed target="Y" value="70" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<designed target="Scale" value="1" ver="5"/>
		<designed target="Visible" value="true" ver="5"/>
		<designed target="Enabled" value="true" ver="5"/>
		<designed target="Width" value="990" ver="5"/>
		<designed target="Height" value="425" ver="5"/>
		<designed target="SelectionBehavior" value="1" ver="5"/>
		<designed target="SelectionMode" value="3" ver="5"/>
		<object access-modifier="private" name="Columns" display-name="Columns" uuid="f17dd940-ffa3-49a4-9820-5d57b8aed750" base-type="TableColumn" base-type-id="109c05c5-8dcf-4a8f-aedd-5bb547cca2d4" ver="5" cardinal="70">
			<designed target="Title" value="" ver="5"/>
			<designed target="Description" value="" ver="5"/>
			<designed target="Id" value="" ver="5"/>
			<designed target="BackgroundColor" value="0xffffffff" ver="5"/>
			<designed target="ForegroundColor" value="4278190080" ver="5"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
			<designed target="TitleBackgroundColor" value="0xfff0f0f0" ver="5"/>
			<designed target="TitleForegroundColor" value="0xff000000" ver="5"/>
			<designed target="TitleFont" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
			<designed target="Width" value="100" ver="5"/>
			<designed target="WidthResizeMode" value="0" ver="5"/>
			<designed target="Hidden" value="false" ver="5"/>
			<designed target="NumberFormat" value="%g" ver="5"/>
			<designed target="TimeFormat" value="dd.MM.yyyy hh:mm:ss.zzz" ver="5"/>
			<designed target="Emptiable" value="true" ver="5"/>
			<designed target="TextAlignment" value="129" ver="5"/>
			<designed target="JsonFilter" value="" ver="5"/>
			<designed target="SortingEnabled" value="false" ver="5"/>
			<designed target="SortOrder" value="0" ver="5"/>
			<designed target="SortPriority" value="0" ver="5"/>
			<designed target="WordWrap" value="true" ver="5"/>
			<designed target="TitleTextAlignment" value="132" ver="5"/>
			<designed target="ColumnOwnId" value="" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="MouseTitleClick">
				<body kind="om">
					<![CDATA[// меняем направление сортировки: прямая -> обратная -> отключена и т.д.
if (SortingEnabled)
{
	if (SortOrder == 0)
		SortOrder = 1; // меняем направление сортировки
	else SortingEnabled = false; // отключаем сортировку
}
else
{
	// включаем сортировку
	SortOrder = 0;
	SortingEnabled = true;
}

// eсли сортировка по новому столбцу, то увеличиваем приоритет
if (SortingEnabled && SortPriority != SortPriorityCount)
{
	SortPriorityCount = SortPriorityCount + 1;
	SortPriority = SortPriorityCount;
}

// сортируем таблицу
ApplySort();
]]>
				</body>
			</do-on>
			<designed target="SortMode" value="0" ver="5"/>
			<do-trace access-modifier="private" target="TitleBackgroundColor" ver="5">
				<body>
					<![CDATA[private.pTheme.BackgroundColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="TitleForegroundColor" ver="5">
				<body>
					<![CDATA[private.pTheme.ForegroundColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ForegroundColor" ver="5">
				<body>
					<![CDATA[private.pTheme.EditorFontColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="BackgroundColor" ver="5">
				<body>
					<![CDATA[private.pTheme.EditorBrushColor]]>
				</body>
			</do-trace>
		</object>
		<designed target="LatestRowTracking" value="false" ver="5"/>
		<designed target="HeaderHeight" value="25" ver="5"/>
		<designed target="HeaderVisible" value="true" ver="5"/>
		<designed target="RowHeight" value="25" ver="5"/>
		<designed target="RowOrder" value="0" ver="5"/>
		<object access-modifier="private" name="SortPriorityCount" display-name="SortPriorityCount" uuid="c472e209-1165-4bb1-b78f-635ddce48c0f" base-type="uint4" base-type-id="a42274b8-724b-4f03-bcf9-dd8498c29f8e" ver="5"/>
		<designed target="SelectionOverlayEnabled" value="true" ver="5"/>
		<designed target="DelayedSortingEnabled" value="false" ver="5"/>
		<designed target="HorizontalScrollMode" value="0" ver="5"/>
		<designed target="VerticalScrollMode" value="0" ver="5"/>
		<designed target="HorizontalScrollBarPolicy" value="0" ver="5"/>
		<designed target="VerticalScrollBarPolicy" value="0" ver="5"/>
		<do access-modifier="private" name="Initialize" display-name="Initialize" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[timeFormat: string = private.pChart.ShowMilliseconds ? "dd.MM.yyyy hh:mm:ss.zzz" : "dd.MM.yyyy hh:mm:ss";

if (mode == 0) // список точек
{
	Columns[0].Title = "График";
	Columns[0].Id = "line";	
	Columns[0].Hidden = false;
	Columns[0].Width = descriptionColumnWidth;
	
	Columns[1].Title = "Тег сигнала";
	Columns[1].Id = "tag";	
	Columns[1].Hidden = false;
	Columns[1].Width = tagColumnWidth;
	
	Columns[2].Title = "Значение";
	Columns[2].Id = "value";
	Columns[2].NumberFormat = "%g";
	Columns[2].Hidden = false;
	Columns[2].Width = valueColumnWidth;
	
	Columns[3].Title = "Единицы";
	Columns[3].Id = "unit";
	Columns[3].Hidden = !Toolbar.Options.cbEUnit.State;
	Columns[3].Width = unitColumnWidth;
	
	Columns[4].Title = "Время";
	Columns[4].Id = "timestamp";
	Columns[4].TimeFormat = timeFormat;
	Columns[4].Hidden = false;
	Columns[4].SortPriority = 0;
	Columns[4].SortingEnabled = true;
	Columns[4].Width = timeColumnWidth;
	
	if (private.pChart.UseServerTime && private.pChart.ActiveMode == unit.Const.amHISTORY)
	{
		Columns[5].Title = "Время сервера";	
		Columns[5].Id = "server_timestamp";
		Columns[5].TimeFormat = timeFormat;
		Columns[5].Hidden = false;
		Columns[5].Width = timeColumnWidth;
	}
	else
	{
		Columns[5].Hidden = true;
	}	
	
	Columns[6].Title = "Качество";
	Columns[6].Id = "quality";
	Columns[6].NumberFormat = "%d";
	Columns[6].Hidden = !Toolbar.Options.cbQuality.State;
	Columns[6].Width = qualityColumnWidth;

	i: int4 = 7;
	while (i < Columns.Length)
	{
		Columns[i].Id = "";
		Columns[i].Hidden = true;
		Columns[i].SortPriority = 0;
		Columns[i].SortingEnabled = false;
		i += 1;
	}
}
else if (mode == 1 || mode == 2) // сведение по времени или дискретизация
{
	i: int4 = 0;
	while (i < 8)
	{
		Columns[i].Id = "";
		Columns[i].Hidden = true;
		Columns[i].SortPriority = 0;
		Columns[i].SortingEnabled = false;
		i += 1;
	}
	
	Columns[8].Title = "Время";
	Columns[8].Id = "time";
	Columns[8].TimeFormat = timeFormat;
	Columns[8].Hidden = false;
	Columns[8].Width = timeColumnWidth;
	
	iLine: int4 = 1;	// индекс перебора линий
	iColumn: int4 = 9; // номер столбца

	while (iLine <= unit.Const.MAX_LINES)
	{
		if (private.pChart.Params.Lines[iLine].Used)
		{			
			lineID:int4 = private.pChart.Line[iLine].ID;
			sID:string = "line" + Str.ToString(lineID) + "_";
		
			Columns[iColumn].Id = sID + "value_column_name" ;
			Columns[iColumn].NumberFormat = "%g";
			Columns[iColumn].Hidden = false;
			Columns[iColumn].Width = timingValueColumnWidth;
			iColumn += 1;
	
			Columns[iColumn].Id = sID + "quality_column_name";
			Columns[iColumn].NumberFormat = "%d";
			Columns[iColumn].Hidden = !Toolbar.Options.cbQuality.State;
			Columns[iColumn].Width = timingQualityColumnWidth;
			iColumn += 1;
	
			Columns[iColumn].Id = sID + "unit_column_name";
			Columns[iColumn].Hidden = !Toolbar.Options.cbEUnit.State;
			Columns[iColumn].Width = timingUnitColumnWidth;
			iColumn += 1;
		}
		iLine += 1;
	}
	
	// обновляем заголовки столбцов
	UpdateColumnsTitle();

	// остальные столбцы отключаем
	while (iColumn < Columns.Length)
	{
		Columns[iColumn].Id = "";
		Columns[iColumn].Hidden = true;
		iColumn += 1;
	}
}
else
{
	// отключаем все столбцы
	i:int4 = 0;
	while (i < Columns.Length)
	{
		Columns[i].Id = "";
		Columns[i].Hidden = true;
		i += 1;
	}
}

// отключаем фильтры всех столбцов
i:int4 = 0;
while (i < Columns.Length)
{
	Columns[i].JsonFilter = "";
	i += 1;
}

// применяем новую сортировку
SortPriorityCount = 0;
ApplySort();]]>
			</body>
			<param access-modifier="private" name="mode" display-name="" uuid="9087c616-3afc-44a5-ae96-6456dec88f09" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
		</do>
		<do access-modifier="private" name="SetTitleFilter" display-name="SetTitleFilter" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[if (mode == 0) // список точек
{
	Columns[0].JsonFilter = filter;
}
else if (mode == 1 || mode == 2) // сведение по времени или дискретизация
{
	 Columns[0].JsonFilter = "";
}]]>
			</body>
			<param access-modifier="private" name="mode" display-name="" uuid="b52ae6e4-1046-4db6-ba2f-06db88b9fb1c" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
			<param access-modifier="private" name="filter" display-name="" uuid="099895da-38bd-43a0-ba2b-133aacea5d7c" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</do>
		<do access-modifier="private" name="SetTagFilter" display-name="SetTagFilter" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[if (mode == 0) // список точек
{
	Columns[1].JsonFilter = filter;
}
else if (mode == 1 || mode == 2) // сведение по времени или дискретизация
{
	 Columns[1].JsonFilter = "";
}]]>
			</body>
			<param access-modifier="private" name="mode" display-name="" uuid="29a91e4e-b44c-428a-8a62-33b96134e914" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
			<param access-modifier="private" name="filter" display-name="" uuid="b69ea273-d602-4b64-8f63-9d6993c23711" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</do>
		<do access-modifier="private" name="SetBoundsFilter" display-name="SetBoundsFilter" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[if (mode == 0) // список точек
{
  Columns[4].JsonFilter = filter;
}
else if (mode == 1 || mode == 2) // сведение по времени или дискретизация
{
	 Columns[8].JsonFilter = filter;
}]]>
			</body>
			<param access-modifier="private" name="mode" display-name="" uuid="32bfa432-4b94-4594-996c-bfced07b3c49" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
			<param access-modifier="private" name="filter" display-name="" uuid="8f0a75cb-654b-4e27-bf80-5516c14270c6" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</do>
		<do access-modifier="private" name="SetQualityFilter" display-name="SetQualityFilter" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[if (mode == 0) // список точек
{
	 Columns[6].JsonFilter = filter;	
}
else if (mode == 1 || mode == 2) // сведение по времени или дискретизация
{
	i: int4 = 10;
	while (i < Columns.Length)
	{
		if (Columns[i].Id == "")
			break;

		Columns[i].JsonFilter = filter;
		i += 3;
	}
}]]>
			</body>
			<param access-modifier="private" name="mode" display-name="" uuid="f9ae1c08-a754-4950-b011-d3057a37a9db" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
			<param access-modifier="private" name="filter" display-name="" uuid="0af51fcd-7350-4b5f-8eb4-aa11d6541aa7" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</do>
		<do-trace access-modifier="private" target="FrameColor" ver="5">
			<body>
				<![CDATA[private.pTheme.BorderColor]]>
			</body>
		</do-trace>
		<designed target="BackgroundColor" value="0xffffffff" ver="5"/>
		<designed target="FrameColor" value="0xff808080" ver="5"/>
		<designed target="GridColor" value="0xffd8d8d8" ver="5"/>
		<do-trace access-modifier="private" target="GridColor" ver="5">
			<body>
				<![CDATA[private.pTheme.DisabledBorderColor]]>
			</body>
		</do-trace>
		<do-trace access-modifier="private" target="BackgroundColor" ver="5">
			<body>
				<![CDATA[private.pTheme.EditorBrushColor]]>
			</body>
		</do-trace>
		<do access-modifier="private" name="SetUnitColumnsVisible" display-name="SetUnitColumnsVisible" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[if (mode == 0) // список точек
{
	 Columns[3].Hidden = !visible;	
}
else if (mode == 1 || mode == 2) // сведение по времени или дискретизация
{
	i: int4 = 11;
	while (i < Columns.Length)
	{
		if (Columns[i].Id == "")
			break;

		Columns[i].Hidden = !visible;
		i += 3;
	}
	
	// обновляем заголовки столбцов
	UpdateColumnsTitle();
}]]>
			</body>
			<param access-modifier="private" name="mode" display-name="" uuid="be18a38e-d312-46c8-8601-ee3bad87164c" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
			<param access-modifier="private" name="visible" display-name="" uuid="fbcb6fa0-c474-4b0d-b30f-45472e9d1044" base-type="bool" base-type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8" ver="5"/>
		</do>
		<do access-modifier="private" name="SetQualityColumnsVisible" display-name="SetQualityColumnsVisible" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[if (mode == 0) // список точек
{
	 Columns[6].Hidden = !visible;	
}
else if (mode == 1 || mode == 2) // сведение по времени или дискретизация
{
	i: int4 = 10;
	while (i < Columns.Length)
	{
		if (Columns[i].Id == "")
			break;

		Columns[i].Hidden = !visible;
		i += 3;
	}
	
	// обновляем заголовки столбцов
	UpdateColumnsTitle();
}]]>
			</body>
			<param access-modifier="private" name="mode" display-name="" uuid="aadab33e-30a1-4247-8157-031de6a5c66d" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
			<param access-modifier="private" name="visible" display-name="" uuid="448b3b3e-a1fe-4783-a47e-f698185bae88" base-type="bool" base-type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8" ver="5"/>
		</do>
		<do access-modifier="private" name="UpdateColumnsTitle" display-name="UpdateColumnsTitle" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[onlyValue: bool = !Toolbar.Options.cbQuality.State && !Toolbar.Options.cbEUnit.State;

iLine: int4 = 1;	// индекс перебора линий
iColumn: int4 = 9; // номер столбца

while (iLine <= unit.Const.MAX_LINES)
{
	if (private.pChart.Params.Lines[iLine].Used)
	{			
		signal: string = private.pChart.Params.Lines[iLine].Tag;
		if (Toolbar.Options.cbDescription.State && private.pChart.Params.Lines[iLine].Description != "")
			signal = private.pChart.Params.Lines[iLine].Description;
		
		Columns[iColumn].Title = onlyValue ? signal : "Значение\n" + signal;
		iColumn += 1;

		Columns[iColumn].Title = "Качество\n" + signal;
		iColumn += 1;

		Columns[iColumn].Title = "Единицы\n" + signal;
		iColumn += 1;
	}
	iLine += 1;
}]]>
			</body>
		</do>
		<init target="TableModel" ver="5" ref="private.Model"/>
		<object access-modifier="private" name="descriptionColumnWidth" display-name="descriptionColumnWidth" uuid="10729e55-41ea-42be-b700-70335afe1968" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5" description="" cardinal="1"/>
		<object access-modifier="private" name="tagColumnWidth" display-name="tagColumnWidth" uuid="4244afd7-7d17-45fa-8ba1-01b677711ab4" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5" description="" cardinal="1"/>
		<object access-modifier="private" name="timeColumnWidth" display-name="timeColumnWidth" uuid="7034037c-6621-4281-8c3d-20f58cf3b2de" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5" description="" cardinal="1"/>
		<object access-modifier="private" name="valueColumnWidth" display-name="valueColumnWidth" uuid="ebec3c62-f68d-49b5-b9f2-aacc416d2fce" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5" description="" cardinal="1"/>
		<object access-modifier="private" name="qualityColumnWidth" display-name="qualityColumnWidth" uuid="fe1e19b3-3122-460f-ae18-d50aeca8ca0f" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5" description="" cardinal="1"/>
		<object access-modifier="private" name="unitColumnWidth" display-name="unitColumnWidth" uuid="9dc5bbdd-d7be-4af6-9c5b-95722fa6eb8e" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5" description="" cardinal="1"/>
		<object access-modifier="private" name="timingValueColumnWidth" display-name="timingValueColumnWidth" uuid="61b71f0e-4658-4340-8ab3-0c990299bcab" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5" description="" cardinal="1"/>
		<object access-modifier="private" name="timingQualityColumnWidth" display-name="timingQualityColumnWidth" uuid="83836d0f-09f3-4c5d-9600-a784dcd744a8" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5" description="" cardinal="1"/>
		<object access-modifier="private" name="timingUnitColumnWidth" display-name="timingUnitColumnWidth" uuid="e741fa8f-efa1-4d0a-8ce4-14566e1c39cf" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5" description="" cardinal="1"/>
		<init target="descriptionColumnWidth" ver="5" value="200"/>
		<init target="tagColumnWidth" ver="5" value="200"/>
		<init target="timeColumnWidth" ver="5" value="120"/>
		<init target="valueColumnWidth" ver="5" value="100"/>
		<init target="qualityColumnWidth" ver="5" value="70"/>
		<init target="unitColumnWidth" ver="5" value="70"/>
		<init target="timingValueColumnWidth" ver="5" value="120"/>
		<init target="timingQualityColumnWidth" ver="5" value="70"/>
		<init target="timingUnitColumnWidth" ver="5" value="70"/>
		<do access-modifier="private" name="StoreColumnWidth" display-name="StoreColumnWidth" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[if (mode == 0)
{
	descriptionColumnWidth = Columns[0].Width;
	tagColumnWidth = Columns[1].Width;
	valueColumnWidth = Columns[2].Width;
	if (Columns[3].Width > 0)
		unitColumnWidth = Columns[3].Width;
	timeColumnWidth = Columns[4].Width;
	if (Columns[6].Width > 0)
		qualityColumnWidth = Columns[6].Width;
}
else
{
	timingValueColumnWidth = Columns[9].Width;
	if (Columns[10].Width > 0)
		timingQualityColumnWidth = Columns[10].Width;
	if (Columns[11].Width > 0)
		timingUnitColumnWidth = Columns[11].Width;	
}]]>
			</body>
			<param access-modifier="private" name="mode" display-name="" uuid="1726341d-ad2b-4038-a444-a85502edb29a" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
		</do>
		<designed target="RowHeightResizeMode" value="0" ver="5"/>
	</object>
	<designed target="WindowIconPath" value="Trends_Icons/ExportToFile.png" ver="5"/>
	<designed target="Flip" value="0" ver="5"/>
	<param access-modifier="private" name="init_Chart" display-name="init_Chart" uuid="6bf1b60e-27c4-4614-b174-24fff1c0c0c2" base-type="Trends_Chart" base-type-id="659f73ba-7fa5-4aa4-ac4d-623541275829" base-const="true" base-ref="true" ver="5" description=""/>
	<param access-modifier="private" name="init_ScreenKeyboard" display-name="Вызов экранной клавиатуры" uuid="e4dd00d6-206f-42b6-800e-617c20da976a" base-type="ScreenKeyboardOptions" base-type-id="0589bc8e-fbb2-4f0e-b5d2-f0d825538ef1" ver="5" description="" cardinal="1" base-ref="true">
		<init target="Enabled" ver="5" value="false"/>
	</param>
	<param access-modifier="private" name="init_Theme" display-name="Тема оформления" uuid="10fbffcb-42b5-4430-bedb-2e409e59b1ab" base-type="Trends_Theme" base-type-id="3fbfa4c2-c742-4bec-94dc-d1bcb7ef25b6" base-const="true" base-ref="true" ver="5"/>
</type>

