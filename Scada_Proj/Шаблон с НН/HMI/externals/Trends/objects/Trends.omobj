<type access-modifier="public" name="Trends" display-name="Trends" uuid="81673f92-ac48-4244-bfe3-ddbdcc98167a" base-type="Rectangle" base-type-id="15726dc3-881e-4d8d-b0fa-a8f8237f08ca" ver="5">
	<designed target="X" value="0" ver="5"/>
	<designed target="Y" value="0" ver="5"/>
	<designed target="Rotation" value="0" ver="5"/>
	<designed target="Scale" value="1" ver="5"/>
	<designed target="Visible" value="true" ver="5"/>
	<designed target="Enabled" value="true" ver="5"/>
	<designed target="Tooltip" value="" ver="5"/>
	<designed target="Width" value="1000" ver="5"/>
	<designed target="Height" value="600" ver="5"/>
	<designed target="RoundingRadius" value="0" ver="5"/>
	<designed target="PenColor" value="0xff000000" ver="5"/>
	<designed target="PenStyle" value="1" ver="5"/>
	<designed target="PenWidth" value="1" ver="5"/>
	<designed target="BrushColor" value="0xfff0f0f0" ver="5"/>
	<designed target="BrushStyle" value="1" ver="5"/>
	<object access-modifier="private" name="Layout" display-name="Layout" uuid="e19ee752-1d1a-4b52-b667-f9d9f7be9db0" base-type="LinearLayout" base-type-id="800edd71-7303-408c-890b-8346e98f5718" ver="5">
		<designed target="Orientation" value="2" ver="5"/>
		<designed target="Gap" value="0" ver="5"/>
	</object>
	<object access-modifier="private" name="private" display-name="private" uuid="c63682c6-6fd0-4b6d-a83c-f6a32e02ae47" base-type="" base-type-id="00000000-0000-0000-0000-000000000000" ver="5">
		<do access-modifier="private" name="LoadSession" display-name="LoadSession" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="javascript">
				<![CDATA[var filePath = GetSessionFilePath();
if (Files.Exists(filePath))
{
	//log("Загрузка настроек вида из файла "  + filePath);
	try
	{
		var json = Files.ReadTextFile(filePath);
		var session = JSON.parse(json);

		var itemsTree = session.ItemsTree;
		if (itemsTree != undefined)
		{
			WS.Splitter.Position = itemsTree.Width;
		}

		var chart = session.Chart;
		if (chart != undefined)
		{
			WS.Chart.ZoomXEnable = chart.ZoomXEnable;
			WS.Chart.ZoomYEnable = chart.ZoomYEnable;
			
			var legend = chart.Legend;
			if (legend != undefined)
				WS.Chart.Legend.UpdateView(JSON.stringify(legend));
		}
		
		var dataTable = session.DataTable;
		if (dataTable != undefined)
			WS.Chart.OpenDataTable.Settings = JSON.stringify(dataTable);
			
		var file = session.File;
		if (file != undefined)
		{
			WS.Chart.ShowOpenDialog.FileType = file.OpenFileType; 
			WS.Chart.ShowSaveDialog.FileType = file.SaveFileType;
			WS.Chart.ShowExportDialog.FileType = file.ExportFileType;
		}
	}
	catch(err)
	{
		log("Не удалось загрузить настройки вида из "  + filePath + "\n" + err.message);
	}
}]]>
			</body>
		</do>
		<do access-modifier="private" name="SaveSession" display-name="SaveSession" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="javascript">
				<![CDATA[var filePath = GetSessionFilePath();
//log("Сохранение настроек вида в файл "  + filePath);
try
{
	var session = {
		'ItemsTree': {
			'Width': WS.Splitter.Position.Value
		},
		'Chart': {
			'ZoomXEnable': WS.Chart.ZoomXEnable.Value,
			'ZoomYEnable': WS.Chart.ZoomYEnable.Value,
			'Legend': JSON.parse(WS.Chart.Legend.GetViewSettings())
		},
		'File': {
			'OpenFileType': WS.Chart.ShowOpenDialog.FileType,
			'SaveFileType': WS.Chart.ShowSaveDialog.FileType,
			'ExportFileType': WS.Chart.ShowExportDialog.FileType
		}
	}
	
	if (WS.Chart.OpenDataTable.Settings != "")
		session.DataTable = JSON.parse(WS.Chart.OpenDataTable.Settings);

	var folder = Files.ParentPath(filePath);
	Files.CreateRecursiveFolder(folder);

	Files.WriteTextFile(filePath, JSON.stringify(session, 0, 2));
}
catch(err)
{
	log("Не удалось сохранить настройки вида в "  + filePath + "\n" + err.message);
}]]>
			</body>
		</do>
		<do access-modifier="private" name="GetSessionFilePath" display-name="GetSessionFilePath" ver="5" type="string" type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d">
			<body kind="om">
				<![CDATA[folderPath: string = unit.ProductInfo.GetUserDataFolder();
return Files.CombinePath(folderPath, "session.json");]]>
			</body>
		</do>
		<do access-modifier="private" name="SaveSettings" display-name="SaveSettings" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="javascript">
				<![CDATA[var filePath = GetSettingsFilePath();
//log("Сохранение настроек в файл "  + filePath);
try
{
	var settings = JSON.parse(Settings.ToJSON());
	settings.ToolBar = JSON.parse(ToolBar.GetViewSettings());
	
	var folder = Files.ParentPath(filePath);
	Files.CreateRecursiveFolder(folder);

	Files.WriteTextFile(filePath, JSON.stringify(settings, 0, 2));
}
catch(error)
{
	log("Не удалось сохранить настройки в "  + filePath + "\n" + error.message);
}]]>
			</body>
		</do>
		<do access-modifier="private" name="LoadSettings" display-name="LoadSettings" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
			<body kind="javascript">
				<![CDATA[var filePath = GetSettingsFilePath();
if (Files.Exists(filePath))
{
	//log("Загрузка настроек из файла "  + filePath);
	try
	{
		var json = Files.ReadTextFile(filePath);
		var settings = JSON.parse(json);
		
		Settings.FromJSON(json);

		var toolbar = settings.ToolBar;
		if (toolbar != undefined)
			ToolBar.UpdateView(JSON.stringify(toolbar));
			
		return true;
	}
	catch(err)
	{
		log("Не удалось загрузить настройки из "  + filePath + "\n" + err.message);
		return false;
	}
}
else
{
	SaveSettings();
	return false;
}]]>
			</body>
		</do>
		<object access-modifier="private" name="Settings" display-name="Settings" uuid="4819c634-96e8-4dfe-ac6b-69a9255a53d3" base-type="Trends_Settings" base-type-id="91daec58-54a8-4900-9b93-be8602b98694" ver="5" description="" cardinal="1">
			<init target="HeaderTextAlignment" ver="5" value="132"/>
			<init target="FooterTextAlignment" ver="5" value="129"/>
			<do-trace access-modifier="private" target="ExportFolder" ver="5">
				<body>
					<![CDATA[ExportImportFolderPath]]>
				</body>
			</do-trace>
		</object>
		<object access-modifier="private" name="ConfigLoaded" display-name="ConfigLoaded" uuid="014b1ab3-6ac1-4d49-a505-7643a136add3" base-type="bool" base-type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8" ver="5"/>
		<object access-modifier="private" name="EventParams" display-name="EventParams" uuid="72023632-35bd-4f1d-b72a-71f8bb60459b" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5" cardinal="2"/>
		<object access-modifier="private" name="pTheme" display-name="pTheme" uuid="9c688735-8081-4e5c-867c-4e562e04eb7f" base-type="Trends_Theme" base-type-id="3fbfa4c2-c742-4bec-94dc-d1bcb7ef25b6" ver="5" base-ref="true"/>
		<do access-modifier="private" name="GetSettingsFilePath" display-name="GetSettingsFilePath" ver="5" type="string" type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d">
			<body kind="om">
				<![CDATA[folderPath: string = private.GetAbsolutePath(unit.ProductInfo.GetProgramDataFolder(), ConfigurationPath);
return Files.CombinePath(folderPath, "settings.json");]]>
			</body>
		</do>
		<do access-modifier="private" name="LoadCustomTree" display-name="LoadCustomTree" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[if (filePath != "")
{	
	UseCustomTree.QueryLoad = false;
	filePath = GetAbsolutePath(unit.ProductInfo.GetProgramDataFolder(), filePath); // дополнение относительного пути
	WS.ItemsTree.LoadFromFile(filePath);
}
else
	Debug.Log("Не задан путь к файлу дерева сигналов");]]>
			</body>
			<param access-modifier="private" name="filePath" display-name="" uuid="a7eb50c3-5d1d-4b23-8836-46e6e10ca36f" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</do>
		<object access-modifier="private" name="pPermissions" display-name="pPermissions" uuid="a0262d54-4aa7-4f2c-84a1-a30f47f13cb5" base-type="Trends_Permissions" base-type-id="083b63d1-3678-4da0-80a0-9c09d0076a3c" base-const="true" base-ref="true" ver="5" description=""/>
		<object access-modifier="private" name="pScreenKeyboard" display-name="pScreenKeyboard" uuid="1b1c5677-7914-4fbe-9483-9e5536230c2b" base-type="ScreenKeyboardOptions" base-type-id="0589bc8e-fbb2-4f0e-b5d2-f0d825538ef1" base-const="true" base-ref="true" ver="5" description=""/>
		<object access-modifier="private" name="ShowError" display-name="ShowError" uuid="21814406-8977-43e0-97ac-b4e31e71dcfe" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="InvokeTrigger" value="false" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked" form-action="open-dialog" form-by-id="false">
				<object access-modifier="private" uuid="6c4d75e2-dd04-43f5-b26b-d03103cebbff" base-type="MessageDialog" base-type-id="a468f863-f603-4768-ad4b-e16bc34ea78e" ver="5">
					<init target="Icon" ver="5" value="2"/>
					<init target="Buttons" ver="5" value="0"/>
					<init target="Message" ver="5">
						<expr>
							<![CDATA[message]]>
						</expr>
					</init>
					<designed target="WindowCaption" value="Внимание" ver="5"/>
					<init target="pTheme" ver="5" ref="here.private.pTheme"/>
				</object>
			</do-on>
			<object access-modifier="private" name="message" display-name="message" uuid="ba554a5f-72ac-493f-a6a7-6780939abd05" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</object>
		<object access-modifier="private" name="ShowComplete" display-name="ShowComplete" uuid="541f8d66-7b2a-45b8-9a7c-de89e5b94d51" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="InvokeTrigger" value="false" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked" form-action="open-dialog" form-by-id="false">
				<object access-modifier="private" uuid="ddbcd54e-6839-4875-9ad4-ab0569d44cfe" base-type="MessageDialog" base-type-id="a468f863-f603-4768-ad4b-e16bc34ea78e" ver="5">
					<init target="Icon" ver="5" value="0"/>
					<init target="Buttons" ver="5" value="0"/>
					<init target="Message" ver="5">
						<expr>
							<![CDATA[message]]>
						</expr>
					</init>
					<init target="pTheme" ver="5" ref="here.private.pTheme"/>
				</object>
			</do-on>
			<object access-modifier="private" name="message" display-name="message" uuid="8eafceec-7833-4916-b65f-c2d1917c413d" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</object>
		<object access-modifier="private" name="EditSettings" display-name="EditSettings" uuid="3897b3c4-7c27-4465-a789-9fbb745907d3" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="InvokeTrigger" value="false" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked" form-action="open-dialog" form-by-id="false">
				<object access-modifier="private" uuid="b06c5aef-552a-45b1-a1af-dafd93d7b473" base-type="Trends_SettingsMain" base-type-id="73f343c2-cdfc-4c21-b5ea-f00c75151521" ver="5">
					<init target="pToolBar" ver="5" ref="ToolBar"/>
					<init target="pTheme" ver="5" ref="here.private.pTheme"/>
					<init target="pSaveSettings" ver="5" ref="SettingsChanged"/>
				</object>
			</do-on>
		</object>
		<init target="pTheme" ver="5" ref="here.init_Theme"/>
		<init target="pPermissions" ver="5" ref="here.init_Permissions"/>
		<init target="pScreenKeyboard" ver="5" ref="here.init_ScreenKeyboard"/>
		<object access-modifier="private" name="SettingsChanged" display-name="SettingsChanged" uuid="8488ffbd-0f54-4bb1-a288-273dfd04ef92" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5" description="" cardinal="1">
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="InvokeTrigger" value="false" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
				<body kind="om">
					<![CDATA[SaveSettings();]]>
				</body>
			</do-on>
		</object>
		<do access-modifier="private" name="GetAbsolutePath" display-name="GetAbsolutePath" ver="5" type="string" type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d">
			<body kind="om">
				<![CDATA[// если путь абсолютный, то его и возвращаем
if (String.Length(path) > 1 && (String.SubString(path, 0, 1) == "/" || String.SubString(path, 1, 1) == ":"))
	return path;

// относительный путь относительно папки
return Files.CombinePath(root, path);]]>
			</body>
			<param access-modifier="private" name="root" display-name="" uuid="084508d4-ae05-4560-97a6-cb7fbde29e29" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
			<param access-modifier="private" name="path" display-name="" uuid="2603889c-431a-44c2-abf2-aee32e2dbd14" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</do>
		<object access-modifier="private" name="ViewChanged" display-name="ViewChanged" uuid="7b00822f-ddd4-4406-b175-d0c29fe6db12" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5" description="" cardinal="1">
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="InvokeTrigger" value="false" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
				<body kind="om">
					<![CDATA[SaveSession();]]>
				</body>
			</do-on>
		</object>
	</object>
	<object access-modifier="private" name="Initializer" display-name="Initializer" uuid="70efc10e-6752-43f6-9c2b-d1fe098ea60c" base-type="Initializer" base-type-id="6db89679-9299-4993-ad1a-0d086cd1c7d2" ver="5">
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Initialized">
			<body kind="om">
				<![CDATA[// Выполняем загрузку настроек, если она не была выполнена из скрипта ранее
if (!private.ConfigLoaded)
	private.LoadSettings();
	
// Загружаем настроки вида
private.LoadSession();]]>
			</body>
		</do-on>
	</object>
	<object access-modifier="private" name="Debug" display-name="Debug" uuid="07b423d2-0a1d-42a0-851a-3d69fc163b7e" base-type="DebugTool" base-type-id="43946044-139a-43f4-a7b8-19a6074ffc56" ver="5"/>
	<object access-modifier="private" name="ApSource_Trends" display-name="ApSource_Trends" uuid="9219da98-6462-4d16-8af0-99d26f9411f4" base-type="ApSource" base-type-id="966603da-f05e-4b4d-8ef0-919efbf8ab2c" ver="5">
		<designed target="Active" value="true" ver="5"/>
		<init target="Timeout" ver="5" value="0"/>
		<init target="ConnectionEstablishTimeout" ver="5" value="0"/>
		<init target="MaxBufferPoolSize" ver="5" value="0"/>
		<init target="ParentSource" ver="5" ref="int_AP"/>
		<designed target="Path" value="" ver="5"/>
		<designed target="ReAdvise" value="0" ver="5"/>
	</object>
	<object access-modifier="private" name="Files" display-name="Files" uuid="32b1deb1-3f44-474a-b231-e2e9884e13de" base-type="FileSystem" base-type-id="34d744f9-7303-4077-a3f7-9c06c0945512" ver="5">
		<designed target="RootPath" value="/" ver="5"/>
		<object access-modifier="private" name="error" display-name="error" uuid="c13ffe8d-14a3-4f36-9449-3b6a58a024dd" base-type="FileSystemError" base-type-id="38147fa1-a364-43d4-bd0b-07ee8556c2f2" ver="5" description="" cardinal="1">
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Occured">
				<body kind="om">
					<![CDATA[Debug.Log(Text);]]>
				</body>
			</do-on>
		</object>
		<init target="Error" ver="5" ref="error"/>
	</object>
	<object access-modifier="private" name="LowRange" display-name="Нижний предел значений по Y" uuid="56563643-bebc-49a7-a678-2afd7473ba6c" base-type="notifying_double" base-type-id="3f905fb7-7738-4619-b402-5a91f136d4bd" ver="5"/>
	<object access-modifier="private" name="HighRange" display-name="Верхний предел значений по Y" uuid="a9bd199c-391e-40f5-91fe-025c8aba8f95" base-type="notifying_double" base-type-id="3f905fb7-7738-4619-b402-5a91f136d4bd" ver="5"/>
	<object access-modifier="private" name="ActiveMode" display-name="Активный режим" uuid="c625cfff-1cbb-4180-be5c-383f225af57e" base-type="notifying_int4" base-type-id="5ccca629-a45d-46c8-a56c-83ecde8126f7" ver="5">
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ValueChanged">
			<body kind="om">
				<![CDATA[//Debug.Log("ActiveMode.ValueChanged " + String.ToString(Value));
if (WS.Chart.ActiveMode != Value)
	WS.Chart.ActiveMode = Value;]]>
			</body>
		</do-on>
	</object>
	<object access-modifier="private" name="AutoRange" display-name="Автоматическое определение диапазона значений для всех сигналов" uuid="3491ba60-8a33-4a2a-ad96-ef26a1357351" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5">
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ValueChanged">
			<body kind="om">
				<![CDATA[//Debug.Log("AutoRange.ValueChanged " + String.ToString(Value));
WS.Chart.Params.SetUserScale(false);
if (WS.Chart.AutoRange != Value)	
	WS.Chart.AutoRange = Value;]]>
			</body>
		</do-on>
	</object>
	<object access-modifier="private" name="GlobalRanges" display-name="Общий диапазон значений для всех сигналов" uuid="de1a8296-7df3-40a4-a468-fd2544e3d531" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5" cardinal="1">
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ValueChanged">
			<body kind="om">
				<![CDATA[//Debug.Log("GlobalRanges.ValueChanged " + String.ToString(Value));
WS.Chart.Params.SetUserScale(false);
if (WS.Chart.GlobalRanges != Value)
	WS.Chart.GlobalRanges = Value;]]>
			</body>
		</do-on>
	</object>
	<object access-modifier="private" name="GraphicThickness" display-name="Толщина графиков" uuid="91fc36bb-951a-419e-a80f-188e84245940" base-type="notifying_float" base-type-id="bb7d05ee-cbf0-4c44-8740-1905239c8ead" ver="5"/>
	<object access-modifier="private" name="DeltaLineWidth" display-name="Утолщение выделенного графика" uuid="158dcbfa-af6f-4c91-80b4-c4088b57d902" base-type="notifying_float" base-type-id="bb7d05ee-cbf0-4c44-8740-1905239c8ead" ver="5"/>
	<object access-modifier="private" name="InterpolationLine" display-name="Режим интерполяции" uuid="047b9ab0-4afd-47a7-b6f7-78981828c295" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<object access-modifier="private" name="TicksCountAxisX" display-name="Количество делений на оси X" uuid="d2a763b4-69dd-4dda-9203-90ce43666a3d" base-type="notifying_int4" base-type-id="5ccca629-a45d-46c8-a56c-83ecde8126f7" ver="5"/>
	<object access-modifier="private" name="TicksCountAxisY" display-name="Количество делений на оси Y" uuid="7a6b63d4-d7c6-40c1-8c47-fd70d2141af5" base-type="notifying_int4" base-type-id="5ccca629-a45d-46c8-a56c-83ecde8126f7" ver="5"/>
	<object access-modifier="private" name="YAxisPrecision" display-name="Точность отображения значений" uuid="de7b2872-4a5b-4df8-9bcc-dd51482d0df8" base-type="notifying_int4" base-type-id="5ccca629-a45d-46c8-a56c-83ecde8126f7" ver="5"/>
	<param access-modifier="private" name="int_AP" display-name="int_AP" uuid="ccf5cf75-446e-47b6-9153-3e5280b78f3f" base-type="ApSource" base-type-id="966603da-f05e-4b4d-8ef0-919efbf8ab2c" base-const="true" base-ref="true" ver="5"/>
	<param access-modifier="private" name="init_Theme" display-name="Тема оформления" uuid="aa2bfe54-44b8-4a2c-bbcb-dda33e29cbaa" base-type="Trends_Theme" base-type-id="3fbfa4c2-c742-4bec-94dc-d1bcb7ef25b6" base-const="true" base-ref="true" ver="5"/>
	<param access-modifier="private" name="init_Permissions" display-name="Разрешения" uuid="16232911-7009-49e3-b1af-d067e7b890f9" base-type="Trends_Permissions" base-type-id="083b63d1-3678-4da0-80a0-9c09d0076a3c" base-const="true" base-ref="true" ver="5" description=""/>
	<param access-modifier="private" name="init_ScreenKeyboard" display-name="Вызов экранной клавиатуры" uuid="74bb82bd-7759-46dc-95f8-b0eb22e5c703" base-type="ScreenKeyboardOptions" base-type-id="0589bc8e-fbb2-4f0e-b5d2-f0d825538ef1" ver="5" description="" cardinal="1" base-ref="true">
		<init target="Enabled" ver="5" value="false"/>
	</param>
	<param access-modifier="private" name="init_Templates" display-name="Шаблоны" uuid="28f22cdf-1d82-4f26-acbd-c20809558efc" base-type="Templates" base-type-id="020ae0f1-0abb-4c52-9c0e-0152917830ed" base-const="true" base-ref="true" ver="5" description=""/>
	<param access-modifier="private" name="DataUpdatePeriod" display-name="Период обновления данных, мс" uuid="8d6d28c1-c72b-4d99-aa00-b022caf9cc9f" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
	<do access-modifier="private" name="ForcedAddItem" display-name="ForcedAddItem" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
		<param access-modifier="private" name="path" display-name="" uuid="2a330e59-588d-434c-b646-85d6f5e5e709" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<body kind="om">
			<![CDATA[return WS.Chart.AddItem(path, eUnit, description, -1) > 0;]]>
		</body>
		<param access-modifier="private" name="eUnit" display-name="" uuid="4cb4bcbf-7de2-4094-bbf0-a54bb9b569db" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<param access-modifier="private" name="description" display-name="" uuid="0757a0e9-bf70-408e-a3eb-2bdbcc28e689" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
	</do>
	<do access-modifier="private" name="RemoveItem" display-name="RemoveItem" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<param access-modifier="private" name="path" display-name="" uuid="f9066ccd-4821-480e-857f-a852a3f84360" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<body kind="om">
			<![CDATA[WS.Chart.RemoveItem(path);]]>
		</body>
	</do>
	<do access-modifier="private" name="SetGraphicThickness" display-name="SetGraphicThickness" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
		<param access-modifier="private" name="tag" display-name="" uuid="52f435be-7089-4119-9d97-91fb7691673a" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<param access-modifier="private" name="thick" display-name="" uuid="5f83ef11-0f4e-40b8-be6c-b9da54c6cfa5" base-type="float" base-type-id="730a70b7-31fd-42cf-860d-ba8faa618f9d" ver="5"/>
		<body kind="om">
			<![CDATA[return WS.Chart.SetGraphicThickness(tag, thick);]]>
		</body>
	</do>
	<do access-modifier="private" name="SetGraphicMarkerLabelVisible" display-name="SetGraphicMarkerLabelVisible" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<body kind="om">
			<![CDATA[WS.Chart.SetGraphicMarkerLabelVisible(tag, markerLabelVisible);
]]>
		</body>
		<param access-modifier="private" name="tag" display-name="" uuid="a31e74c2-7c67-46be-99e6-19a8978f49fd" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<param access-modifier="private" name="markerLabelVisible" display-name="" uuid="f25d5251-c479-476d-89c5-6af56a1e3ed4" base-type="bool" base-type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8" ver="5"/>
	</do>
	<do access-modifier="private" name="AddLevel" display-name="AddLevel" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
		<param access-modifier="private" name="path" display-name="" uuid="f7287d61-9250-4e12-9a06-ec35c80ef4cf" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<body kind="om">
			<![CDATA[return WS.Chart.AddLevel(path, lineStyle) > 0;]]>
		</body>
		<param access-modifier="private" name="lineStyle" display-name="" uuid="c77a0407-6357-47bb-a94a-ba6f50777c93" base-type="uint4" base-type-id="a42274b8-724b-4f03-bcf9-dd8498c29f8e" ver="5"/>
	</do>
	<do access-modifier="private" name="ClearData" display-name="ClearData" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<body kind="om">
			<![CDATA[WS.Chart.Clear();]]>
		</body>
	</do>
	<do access-modifier="private" name="SetGraphicColor" display-name="SetGraphicColor" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
		<param access-modifier="private" name="tag" display-name="" uuid="4c633d25-4999-4de6-89d4-e79dbb6ae537" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<param access-modifier="private" name="R" display-name="" uuid="43273ffa-0d64-4e0c-8d1f-805e45b87b82" base-type="uint4" base-type-id="a42274b8-724b-4f03-bcf9-dd8498c29f8e" ver="5"/>
		<body kind="om">
			<![CDATA[return WS.Chart.SetGraphicColor(tag, R, G, B);]]>
		</body>
		<param access-modifier="private" name="G" display-name="" uuid="69dc5f6f-69ba-4dce-b63a-351474b723b0" base-type="uint4" base-type-id="a42274b8-724b-4f03-bcf9-dd8498c29f8e" ver="5"/>
		<param access-modifier="private" name="B" display-name="" uuid="1dc87948-5577-4f36-bda0-803b6345b92d" base-type="uint4" base-type-id="a42274b8-724b-4f03-bcf9-dd8498c29f8e" ver="5"/>
	</do>
	<do access-modifier="private" name="SetGraphicColorU4" display-name="SetGraphicColorU4" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
		<param access-modifier="private" name="tag" display-name="" uuid="65465370-aa3d-43fa-b98e-7650aa17614b" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<param access-modifier="private" name="color" display-name="" uuid="2fd63aab-c65e-40b1-85c6-9ad1443ce56c" base-type="uint4" base-type-id="a42274b8-724b-4f03-bcf9-dd8498c29f8e" ver="5"/>
		<body kind="om">
			<![CDATA[return WS.Chart.SetGraphicColorU4(tag, color);]]>
		</body>
	</do>
	<do access-modifier="private" name="SetAxisColor" display-name="SetAxisColor" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
		<param access-modifier="private" name="tag" display-name="" uuid="76e5f167-1ee6-4359-a7a9-5fbbe98e3165" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<param access-modifier="private" name="R" display-name="" uuid="a5c33a39-c0ca-4b08-9691-22632f62553d" base-type="uint4" base-type-id="a42274b8-724b-4f03-bcf9-dd8498c29f8e" ver="5"/>
		<body kind="om">
			<![CDATA[return WS.Chart.SetAxisColor(tag, R, G, B);]]>
		</body>
		<param access-modifier="private" name="G" display-name="" uuid="816bdd1e-d8b9-484e-9448-3287a20de932" base-type="uint4" base-type-id="a42274b8-724b-4f03-bcf9-dd8498c29f8e" ver="5"/>
		<param access-modifier="private" name="B" display-name="" uuid="ef96d6a8-8182-4d88-a5eb-93e1225071f8" base-type="uint4" base-type-id="a42274b8-724b-4f03-bcf9-dd8498c29f8e" ver="5"/>
	</do>
	<do access-modifier="private" name="SetAxisColorU4" display-name="SetAxisColorU4" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
		<param access-modifier="private" name="axisName" display-name="" uuid="dd0b3623-441e-4dfa-97e1-8623acb25146" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<param access-modifier="private" name="color" display-name="" uuid="e4e74c1e-8fd3-4c08-9326-3bfb98ca756a" base-type="uint4" base-type-id="a42274b8-724b-4f03-bcf9-dd8498c29f8e" ver="5"/>
		<body kind="om">
			<![CDATA[return WS.Chart.SetAxisColorU4(axisName, color);]]>
		</body>
	</do>
	<do access-modifier="private" name="SetOperativInterval" display-name="SetOperativInterval" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<param access-modifier="private" name="nMinutes" display-name="" uuid="c7dbadf0-a462-42ea-b76a-5b3c2add3790" base-type="uint8" base-type-id="c8ff7701-da6e-4d53-888a-81fa680ff561" ver="5"/>
		<param access-modifier="private" name="nUpdateRate" display-name="" uuid="f442124a-0764-4c6b-ac54-857d93070177" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
		<body kind="om">
			<![CDATA[WS.Chart.SetOperativInterval(nMinutes, nUpdateRate);]]>
		</body>
	</do>
	<object access-modifier="private" name="ShowToolbar" display-name="Видимость панели инструментов" uuid="d6cde7a9-87c5-4e3d-a63c-6d2d3169afd1" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<object access-modifier="private" name="ShowLegend" display-name="Видимость легенды" uuid="e2e42267-3c49-4b73-a6e9-d62a51040f0f" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<object access-modifier="private" name="ShowSources" display-name="Видимость дерева сигналов" uuid="4d9dc435-589f-4c39-a412-aed80ebafc86" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<object access-modifier="private" name="ShowStatus" display-name="Видимость строки статуса" uuid="f4a353c4-917a-4aa3-a516-9001a32d5f0a" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<object access-modifier="private" name="ShowEU" display-name="Видимость единиц измерений" uuid="c5818f83-73e5-4e15-9dd2-277024de6e36" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5">
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ValueChanged">
			<body kind="om">
				<![CDATA[if (WS.Chart.ShowEU != value)
	WS.Chart.ShowEU = value;]]>
			</body>
		</do-on>
	</object>
	<object access-modifier="private" name="ShowMarkerLabels" display-name="Видимость выносок реперов" uuid="14c7db4a-fe86-4c52-b1fb-ff6fe7309282" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5">
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ValueChanged">
			<body kind="om">
				<![CDATA[if (WS.Chart.ShowMarkerLabels != value)
	WS.Chart.ShowMarkerLabels = value;]]>
			</body>
		</do-on>
	</object>
	<object access-modifier="private" name="ShowDataPoints" display-name="Видимость точек на графиках" uuid="f61224b3-e0f6-4554-9975-e85c94b8e385" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5">
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ValueChanged">
			<body kind="om">
				<![CDATA[if (WS.Chart.ShowDataPoints != value)
	WS.Chart.ShowDataPoints = value;]]>
			</body>
		</do-on>
	</object>
	<object access-modifier="private" name="ShowMiniTrends" display-name="Видимость минитрендов" uuid="ffead676-9ce8-4ee0-bb60-830c1e9d7252" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5">
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ValueChanged">
			<body kind="om">
				<![CDATA[if (WS.Chart.ShowMiniTrends != value)
	WS.Chart.ShowMiniTrends = value;]]>
			</body>
		</do-on>
	</object>
	<object access-modifier="private" name="MaxLineLegendShow" display-name="Максимальное количество строк в легенде" uuid="59a3fd68-8945-452e-9c92-8899303b50b6" base-type="notifying_int4" base-type-id="5ccca629-a45d-46c8-a56c-83ecde8126f7" ver="5"/>
	<init target="ShowToolbar" ver="5" value="true"/>
	<init target="ShowLegend" ver="5" value="false"/>
	<init target="MaxLineLegendShow" ver="5" value="4"/>
	<init target="DataUpdatePeriod" ver="5" value="1000"/>
	<init target="ShowMarkerLabels" ver="5" value="true"/>
	<init target="AutoRange" ver="5" value="true"/>
	<object access-modifier="private" name="OperativeStoredInterval" display-name="Хранимый интервал оперативного режима, мин" uuid="f156b2f5-b15e-4a6e-b3c0-2e5db8b89f31" base-type="notifying_uint8" base-type-id="2e6d6c20-2489-49e1-9d5f-fe68a21b43df" ver="5"/>
	<object access-modifier="private" name="OperativeDisplayedInterval" display-name="Отображаемый интервал оперативного режима, мин" uuid="523d6377-a5df-4141-bfba-1011d65280bd" base-type="notifying_uint8" base-type-id="2e6d6c20-2489-49e1-9d5f-fe68a21b43df" ver="5"/>
	<init target="ShowSources" ver="5" value="true"/>
	<init target="ShowDescriptionInTree" ver="5" value="false"/>
	<object access-modifier="private" name="UseRedLine" display-name="Использовать красную линию" uuid="ed2522ba-09a9-40db-ac64-fe3500f65553" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5" cardinal="1"/>
	<object access-modifier="private" name="RedLineShift" display-name="Сдвиг красной линии, %" uuid="a6207bc1-bfe4-40a0-a5e3-4a51afaa528b" base-type="notifying_uint4" base-type-id="2606f4f1-fd02-40e5-b3c8-9c59e02296fb" ver="5" description="" cardinal="1"/>
	<object access-modifier="private" name="ShowMilliseconds" display-name="Показывать миллисекунды" uuid="9b282a45-cb6a-4286-a4d0-61f5cf136568" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<do access-modifier="private" name="SetGraphicAxis" display-name="SetGraphicAxis" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<param access-modifier="private" name="tag" display-name="" uuid="7d37dad2-0394-49db-aedc-3c2e4b7ce9fe" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<param access-modifier="private" name="axisTag" display-name="" uuid="fd00baa3-5f78-4b4d-b551-e7231e578804" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<body kind="om">
			<![CDATA[WS.Chart.SetGraphicAxis(tag, axisTag);]]>
		</body>
	</do>
	<init target="GlobalRanges" ver="5" value="true"/>
	<init target="OperativeStoredInterval" ver="5" value="60"/>
	<init target="YAxisPrecision" ver="5" value="4"/>
	<init target="InterpolationLine" ver="5" value="false"/>
	<do access-modifier="private" name="SetIndividualRange" display-name="SetIndividualRange" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<body kind="om">
			<![CDATA[WS.Chart.SetIndividualRange(tag, lowRange, highRange);]]>
		</body>
		<param access-modifier="private" name="tag" display-name="" uuid="fc2e2996-e696-48c8-977d-4b8f21bac555" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<param access-modifier="private" name="lowRange" display-name="" uuid="b98cdc78-db77-4514-9a11-29c4e7533142" base-type="double" base-type-id="7ad62ecf-96dd-4751-9b96-e77954b44409" ver="5"/>
		<param access-modifier="private" name="highRange" display-name="" uuid="9121dcc5-1c84-4206-87c2-e8f4e22f8f31" base-type="double" base-type-id="7ad62ecf-96dd-4751-9b96-e77954b44409" ver="5"/>
	</do>
	<do access-modifier="private" name="FitToScreen" display-name="FitToScreen" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<body kind="om">
			<![CDATA[WS.Chart.FitToScreen();]]>
		</body>
	</do>
	<do access-modifier="private" name="SetHistoricalInterval" display-name="SetHistoricalInterval" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
		<body kind="om">
			<![CDATA[if (dtTo <= dtFrom)
	return false;

WS.Chart.SetTimeInterval(DateTime.ToUtc(dtFrom), DateTime.ToUtc(dtTo));
WS.Chart.LoadHistoricalData();
return true;]]>
		</body>
		<param access-modifier="private" name="dtFrom" display-name="" uuid="0bd10ad6-91ae-4efb-aba9-918d6b79f94a" base-type="uint8" base-type-id="c8ff7701-da6e-4d53-888a-81fa680ff561" ver="5"/>
		<param access-modifier="private" name="dtTo" display-name="" uuid="0f8cc67f-925b-4da4-897d-9ff6eb3af383" base-type="uint8" base-type-id="c8ff7701-da6e-4d53-888a-81fa680ff561" ver="5"/>
	</do>
	<do access-modifier="private" name="ReloadHistoricalData" display-name="ReloadHistoricalData" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<body kind="om">
			<![CDATA[WS.Chart.LoadHistoricalData();]]>
		</body>
	</do>
	<do access-modifier="private" name="SaveSignalsList" display-name="SaveSignalsList" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
		<body kind="om">
			<![CDATA[filePath: string = private.GetAbsolutePath(unit.ProductInfo.GetProgramDataFolder(), fileName);
return WS.Chart.SaveSignalsList(filePath);]]>
		</body>
		<param access-modifier="private" name="fileName" display-name="" uuid="b461587f-1f21-4c46-9454-ba454c2327a5" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
	</do>
	<do access-modifier="private" name="LoadSignalsList" display-name="LoadSignalsList" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
		<body kind="om">
			<![CDATA[filePath: string = private.GetAbsolutePath(unit.ProductInfo.GetProgramDataFolder(), fileName);
return WS.Chart.LoadSignalsList(filePath);]]>
		</body>
		<param access-modifier="private" name="fileName" display-name="" uuid="4d065baf-d06e-4119-b908-e898e1f964f9" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
	</do>
	<init target="UseRedLine" ver="5" value="false"/>
	<init target="ShowMilliseconds" ver="5" value="false"/>
	<init target="OperativeDisplayedInterval" ver="5" value="10"/>
	<object access-modifier="private" name="ControlLineWidth" display-name="Ширина реперных линий" uuid="e22dece1-bd70-4d31-a72e-edf3aac5eaea" base-type="notifying_float" base-type-id="bb7d05ee-cbf0-4c44-8740-1905239c8ead" ver="5"/>
	<object access-modifier="private" name="ControlLineSelectWidth" display-name="Ширина выделенной реперной линии" uuid="5f6fddac-69ea-4baf-8a0c-cd14bca8c40c" base-type="notifying_uint4" base-type-id="2606f4f1-fd02-40e5-b3c8-9c59e02296fb" ver="5"/>
	<object access-modifier="private" name="ControlLineColor" display-name="Цвет реперных линий" uuid="b0feaf6a-7217-4ed5-a3ec-eab081f0fcfb" base-type="notifying_uint4" base-type-id="2606f4f1-fd02-40e5-b3c8-9c59e02296fb" ver="5"/>
	<object access-modifier="private" name="ControlLineSelectColor" display-name="Цвет выделенной реперной линии" uuid="f69d3d32-5eb6-41ca-887f-5b29c3bb7f9d" base-type="notifying_uint4" base-type-id="2606f4f1-fd02-40e5-b3c8-9c59e02296fb" ver="5"/>
	<init target="ControlLineWidth" ver="5" value="1.5"/>
	<init target="ControlLineSelectWidth" ver="5" value="2"/>
	<init target="ControlLineColor" ver="5" value="0xff000000"/>
	<init target="ControlLineSelectColor" ver="5" value="0xffff0000"/>
	<object access-modifier="private" name="ToolBar" display-name="ToolBar" uuid="4a2c8598-56d9-4182-bca5-96d928fd14b6" base-type="Trends_ToolBar" base-type-id="c5a94cf9-44f5-45cc-b455-7d86479be8ca" ver="5">
		<designed target="X" value="0" ver="5"/>
		<designed target="Y" value="0" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<init target="OnClickTreeVisible" ver="5" ref="WS.ItemsTree.SwitchVisible"/>
		<do-trace access-modifier="private" target="Visible" ver="5">
			<body>
				<![CDATA[here.ShowToolbar ]]>
			</body>
		</do-trace>
		<do-trace access-modifier="private" target="ShowSources" ver="5">
			<body>
				<![CDATA[here.ShowSources]]>
			</body>
		</do-trace>
		<designed target="Height" value="35" ver="5"/>
		<designed target="Width" value="900" ver="5"/>
		<init target="pEditSettings" ver="5" ref="here.private.EditSettings"/>
		<init target="init_Theme" ver="5" ref="here.init_Theme"/>
		<init target="init_Permissions" ver="5" ref="here.init_Permissions"/>
		<init target="pChart" ver="5" ref="WS.Chart"/>
		<object access-modifier="private" name="SizeLimits" display-name="SizeLimits" uuid="72044d66-f702-46b3-8b86-8c82ddf18d2a" base-type="LayoutSizeLimits" base-type-id="10342c1f-560b-4160-9de5-7e2c08026f47" ver="5" description="" cardinal="1">
			<designed target="MinWidth" value="0" ver="5"/>
			<designed target="MinHeight" value="35" ver="5"/>
			<designed target="MaxWidth" value="16777215" ver="5"/>
			<designed target="MaxHeight" value="35" ver="5"/>
		</object>
	</object>
	<init target="ShowStatus" ver="5" value="true"/>
	<object access-modifier="private" name="ControlLineMultipleAdd" display-name="Множественное добавление реперов" uuid="f60afa6b-a10b-4a51-9dda-d3accf7c6c0e" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<object access-modifier="private" name="ShowDescriptionInTree" display-name="Показывать описание в дереве сигналов" uuid="ef9025a2-bdf7-40f2-bc33-1f35b27977fc" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<object access-modifier="private" name="UseCustomTree" display-name="Пользовательское дерево сигналов" uuid="65555994-dd06-4df4-848b-f6c68b994c9a" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5">
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ValueChanged">
			<body kind="om">
				<![CDATA[if (value)
{
	// Если имя файла определено
	if (FileUserSignalTree != "")
		// Загружаем пользовательское дерево
		private.LoadCustomTree(FileUserSignalTree);
	else
		// Оставляем запрос на загрузку по готовности имени файла
		QueryLoad = true;
}
else
{
	if (ApSource_Trends.ConnectionState == unit.Const.stADVISED_OK)
		WS.ItemsTree.Browse();
}
]]>
			</body>
		</do-on>
		<object access-modifier="private" name="QueryLoad" display-name="QueryLoad" uuid="f52e5076-2fc7-4801-ba77-652c43fd6030" base-type="bool" base-type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8" ver="5" description="" cardinal="1"/>
	</object>
	<object access-modifier="private" name="FileUserSignalTree" display-name="Файл пользовательского дерева сигналов" uuid="dca0b2bf-51f6-459f-aa11-8c9869a6ee88" base-type="notifying_string" base-type-id="14976fbf-36ab-415f-abc3-9f8fdc217351" ver="5">
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ValueChanged">
			<body kind="om">
				<![CDATA[	
if (UseCustomTree.QueryLoad)
	private.LoadCustomTree(FileUserSignalTree);
]]>
			</body>
		</do-on>
	</object>
	<init target="UseCustomTree" ver="5" value="false"/>
	<object access-modifier="private" name="ModeTimeSourceServer" display-name="Режим времени Источник-Сервер" uuid="616bfebb-ba25-4929-b2a5-14ca44c1bd5e" base-type="notifying_int4" base-type-id="5ccca629-a45d-46c8-a56c-83ecde8126f7" ver="5"/>
	<init target="ModeTimeSourceServer" ver="5" value="0"/>
	<designed target="ZValue" value="0" ver="5"/>
	<object access-modifier="private" name="ConfigurationPath" display-name="Путь к файлам конфигурации" uuid="5def1c99-96df-424e-9953-9400d10843d7" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
	<do access-modifier="private" name="LoadConfiguration" display-name="LoadConfiguration" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
		<body kind="om">
			<![CDATA[// Запоминем что начальная загрузка конфигурации состоялась
private.ConfigLoaded = true;

ConfigurationPath = folder;

// загружаем настройки
return private.LoadSettings();]]>
		</body>
		<param access-modifier="private" name="folder" display-name="" uuid="aa3002ad-bf4d-4f17-bd8d-873ffd71bd10" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
	</do>
	<object access-modifier="private" name="ExportImportFolderPath" display-name="Папка для экспорта и импорта" uuid="333af793-686a-478b-9546-b5ba8156fd14" base-type="notifying_string" base-type-id="14976fbf-36ab-415f-abc3-9f8fdc217351" ver="5"/>
	<object access-modifier="private" name="SynchronizeColor" display-name="Синхронизировать цвет графика и оси" uuid="fb15ab60-cad4-4647-904d-34bcfa3ba9b2" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<designed target="Opacity" value="1" ver="5"/>
	<object access-modifier="private" name="WS" display-name="WS" uuid="6a1cba2d-acdd-42d8-827a-2dfe0e27452d" base-type="Rectangle" base-type-id="15726dc3-881e-4d8d-b0fa-a8f8237f08ca" ver="5">
		<designed target="X" value="0" ver="5"/>
		<designed target="Y" value="35" ver="5"/>
		<designed target="ZValue" value="0" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<designed target="Scale" value="1" ver="5"/>
		<designed target="Visible" value="true" ver="5"/>
		<designed target="Opacity" value="1" ver="5"/>
		<designed target="Enabled" value="true" ver="5"/>
		<designed target="Tooltip" value="" ver="5"/>
		<designed target="Width" value="900" ver="5"/>
		<designed target="Height" value="540" ver="5"/>
		<designed target="RoundingRadius" value="0" ver="5"/>
		<designed target="PenColor" value="4278190080" ver="5"/>
		<designed target="PenStyle" value="0" ver="5"/>
		<designed target="PenWidth" value="1" ver="5"/>
		<designed target="BrushColor" value="4278190080" ver="5"/>
		<designed target="BrushStyle" value="0" ver="5"/>
		<object access-modifier="private" name="ItemsTree" display-name="ItemsTree" uuid="76ddf633-46c2-403e-8571-d54ae3d34fe8" base-type="Trends_ItemsTree" base-type-id="2d934a44-5181-41f0-94db-e0e63af54d68" ver="5">
			<designed target="X" value="0" ver="5"/>
			<designed target="Y" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Width" value="250" ver="5"/>
			<designed target="Height" value="540" ver="5"/>
			<object access-modifier="private" name="DoOnDoubleClick" display-name="DoOnDoubleClick" uuid="6f2cd50f-804f-44fc-b864-65d93db155ba" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
					<body kind="javascript">
						<![CDATA[//Debug.Log("DoOnSelectItem");
Chart.private.ItemsAddByJson(SelectedItem, -1);]]>
					</body>
				</do-on>
			</object>
			<init target="ApSource" ver="5" ref="ApSource_Trends"/>
			<init target="pOnDoubleClick" ver="5" ref="DoOnDoubleClick"/>
			<object access-modifier="private" name="SwitchVisible" display-name="SwitchVisible" uuid="d68c37ba-422d-46b7-b2d8-9dfe1c93d212" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
					<body kind="om">
						<![CDATA[here.ShowSources = !here.ShowSources;]]>
					</body>
				</do-on>
			</object>
			<do-trace access-modifier="private" target="SearchBarVisible" ver="5">
				<body>
					<![CDATA[here.TreeFindEnable]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="DescriptionPreferred" ver="5">
				<body>
					<![CDATA[here.ShowDescriptionInTree]]>
				</body>
			</do-trace>
			<object access-modifier="private" name="SizeLimits" display-name="SizeLimits" uuid="b5a1fb05-d3ce-4609-b52c-c2e04624c6e9" base-type="LayoutSizeLimits" base-type-id="10342c1f-560b-4160-9de5-7e2c08026f47" ver="5" description="" cardinal="1">
				<designed target="MinWidth" value="250" ver="5"/>
				<designed target="MinHeight" value="0" ver="5"/>
				<designed target="MaxWidth" value="250" ver="5"/>
				<designed target="MaxHeight" value="16777215" ver="5"/>
				<do-trace access-modifier="private" target="MinWidth" ver="5">
					<body>
						<![CDATA[Splitter.Position]]>
					</body>
				</do-trace>
				<do-trace access-modifier="private" target="MaxWidth" ver="5">
					<body>
						<![CDATA[Splitter.Position]]>
					</body>
				</do-trace>
			</object>
			<object access-modifier="private" name="ShowMenu" display-name="ShowMenu" uuid="691e8141-52e4-407b-9c99-f9d7d379f31f" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked" form-action="open-new" form-by-id="false">
					<object access-modifier="private" uuid="48649e4b-6954-4294-ad65-25be105e6bca" base-type="Menu" base-type-id="07bb4545-980a-4140-bbaa-4d1397447864" ver="5">
						<init target="pResult" ver="5" ref="MenuResult"/>
						<init target="pAction" ver="5" ref="OnMenuClick"/>
						<init target="Items" ver="5">
							<expr>
								<![CDATA[GetMenuItems()]]>
							</expr>
						</init>
						<init target="WindowX" ver="5">
							<expr>
								<![CDATA[MouseRightClickX]]>
							</expr>
						</init>
						<init target="WindowY" ver="5">
							<expr>
								<![CDATA[MouseRightClickY]]>
							</expr>
						</init>
						<init target="init_Theme" ver="5" ref="here.private.pTheme"/>
					</object>
				</do-on>
				<object access-modifier="private" name="MenuResult" display-name="MenuResult" uuid="c50b4edd-c773-4c23-bae1-ef9cc0b98c1a" base-type="MenuResult" base-type-id="0fe7658c-92f4-4af7-b038-3594414ac651" ver="5"/>
				<object access-modifier="private" name="OnMenuClick" display-name="OnMenuClick" uuid="e1b1d0d1-0cee-4224-9578-3e1ab64997de" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
					<designed target="Enabled" value="true" ver="5"/>
					<designed target="InvokeTrigger" value="false" ver="5"/>
					<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
						<body kind="javascript">
							<![CDATA[var cmd = MenuResult.Id;
var info = JSON.parse(SelectedItem).data[0];

if (cmd == "add")
{
	if (Chart.Params.TagIsUse(info.tag))
	{
		var itemIndex = Chart.Params.GetIndexByPath(info.tag);
		Chart.Lines.SetVisible(itemIndex, true);
		Chart.Lines.SetSelect(itemIndex);
		Chart.Legend.SelectItem(itemIndex);
	}
	else
	{
		Chart.private.ItemsAddByJson(SelectedItem, -1);
	}
}
else if (cmd.substr(0, 6) == "chart_")
{
	var newChart = cmd.substr(6);
	var nChart = (newChart == "new") ? Chart.Params.Charts.GetFree() : newChart;
	if (Chart.Params.TagIsUse(info.tag))
	{
		var itemIndex = Chart.Params.GetIndexByPath(info.tag);
		Chart.Lines.SetChart(itemIndex, nChart);
	}
	else
	{
		Chart.private.ItemsAddByJson(SelectedItem, nChart);
	}
	Chart.Axis.LinkUpdate(Chart.GlobalRanges);
	Chart.UpdateYRanges(Chart.AutoRange);
} ]]>
						</body>
					</do-on>
				</object>
				<do access-modifier="private" name="GetMenuItems" display-name="GetMenuItems" ver="5" type="string" type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d">
					<body kind="javascript">
						<![CDATA[// Определяем тэг выделенного элемента
// это свойство должно содержать данные в виде массива из одного элемента
var info = JSON.parse(SelectedItem).data[0];
var selItem = Chart.Params.GetIndexByPath(info.tag);
// Определяем поле графика, если график уже добавлен
var ownChart = selItem>0 ? Chart.Params.Lines[selItem].nChart : -1;

var items = [];

items.push({'id':"add", 'title':"Показать график сигнала", 'icon': "Trends_Icons/Add16.png"});

var chartsItem = { 'id': 9, 'title': "Разместить график на поле" };
chartsItem.items = [];
chartsItem.items.push({ 'id': "chart_new", 'title': "Новое поле" });
chartsItem.items.push({ 'title': "-" });
var i = 0;
var n = 0;
while (i < Chart.Params.Charts.Length)
{
	if (Chart.Params.Charts[i].bVisible)
	{
		n += 1;
		chartsItem.items.push({ 'id': "chart_"+i, 'title': n, 'active': i!=ownChart});
	}
	i += 1;
}
items.push(chartsItem);

return JSON.stringify(items);]]>
					</body>
				</do>
			</object>
			<init target="pOnRightClick" ver="5" ref="ShowMenu"/>
			<init target="init_Theme" ver="5" ref="here.init_Theme"/>
			<do-trace access-modifier="private" target="Visible" ver="5">
				<body>
					<![CDATA[ShowSources]]>
				</body>
			</do-trace>
		</object>
		<object access-modifier="private" name="Splitter" display-name="Splitter" uuid="677e9140-4886-42d5-8386-8075d8424556" base-type="HorizontalSplitter" base-type-id="9f2e11a5-219a-4c9b-bceb-928724b2f965" ver="5" description="" cardinal="1">
			<designed target="X" value="996" ver="5"/>
			<designed target="Y" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Width" value="4" ver="5"/>
			<designed target="Height" value="540" ver="5"/>
			<init target="Position" ver="5" value="250"/>
			<init target="init_Theme" ver="5" ref="here.init_Theme"/>
			<init target="Minimum" ver="5" value="30"/>
			<do-trace access-modifier="private" target="Visible" ver="5">
				<body>
					<![CDATA[ShowSources]]>
				</body>
			</do-trace>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="MouseRelease">
				<body kind="om">
					<![CDATA[here.private.SaveSession();]]>
				</body>
			</do-on>
		</object>
		<object access-modifier="private" name="Chart" display-name="Chart" uuid="9f316d5e-1940-40f2-9cdf-7daeafe31d10" base-type="Trends_Chart" base-type-id="659f73ba-7fa5-4aa4-ac4d-623541275829" ver="5">
			<designed target="X" value="254" ver="5"/>
			<designed target="Y" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Width" value="746" ver="5"/>
			<designed target="Height" value="540" ver="5"/>
			<do-trace access-modifier="private" target="ControlLineWidth" ver="5">
				<body>
					<![CDATA[here.ControlLineWidth]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ControlLineSelectWidth" ver="5">
				<body>
					<![CDATA[here.ControlLineSelectWidth]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ControlLineColor" ver="5">
				<body>
					<![CDATA[here.ControlLineColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ControlLineSelectColor" ver="5">
				<body>
					<![CDATA[here.ControlLineSelectColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="DeltaLineWidth" ver="5">
				<body>
					<![CDATA[here.DeltaLineWidth]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ShowMilliseconds" ver="5">
				<body>
					<![CDATA[here.ShowMilliseconds]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="SynchroColorMarker" ver="5">
				<body>
					<![CDATA[here.SynchroColorMarker]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="TicksCountAxisX" ver="5">
				<body>
					<![CDATA[here.TicksCountAxisX]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="TicksCountAxisY" ver="5">
				<body>
					<![CDATA[here.TicksCountAxisY]]>
				</body>
			</do-trace>
			<init target="ActiveMode" ver="5" value="0"/>
			<do-trace access-modifier="private" target="ControlLineMultipleAdd" ver="5">
				<body>
					<![CDATA[here.ControlLineMultipleAdd]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="OperativeStoredInterval" ver="5">
				<body>
					<![CDATA[here.OperativeStoredInterval]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ShowRedLine" ver="5">
				<body>
					<![CDATA[here.UseRedLine && 
this.ActiveMode==unit.Const.amOPERATIVE]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="RedLineShift" ver="5">
				<body>
					<![CDATA[here.RedLineShift]]>
				</body>
			</do-trace>
			<init target="DataUpdatePeriod" ver="5">
				<expr>
					<![CDATA[here.DataUpdatePeriod]]>
				</expr>
			</init>
			<do-trace access-modifier="private" target="YAxisPrecision" ver="5">
				<body kind="om">
					<![CDATA[here.YAxisPrecision]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ViewInterval" ver="5">
				<body>
					<![CDATA[here.OperativeDisplayedInterval]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="LowRange" ver="5">
				<body>
					<![CDATA[here.LowRange]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="HighRange" ver="5">
				<body>
					<![CDATA[here.HighRange]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="GraphicThickness" ver="5">
				<body>
					<![CDATA[here.GraphicThickness]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="InterpolationLine" ver="5">
				<body>
					<![CDATA[here.InterpolationLine]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="SynchronizeColor" ver="5">
				<body>
					<![CDATA[here.SynchronizeColor]]>
				</body>
			</do-trace>
			<object access-modifier="private" name="ShowContextMenu" display-name="ShowContextMenu" uuid="e0a1e1c6-7a5a-438c-bc7e-b45ac8160796" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked" form-action="open-new" form-by-id="false">
					<object access-modifier="private" uuid="95a20cb1-1932-48a0-86a8-c4d1a20997b3" base-type="Menu" base-type-id="07bb4545-980a-4140-bbaa-4d1397447864" ver="5">
						<init target="pResult" ver="5" ref="MenuResult"/>
						<init target="pAction" ver="5" ref="OnMenuClick"/>
						<init target="WindowX" ver="5">
							<expr>
								<![CDATA[String.ToInt4(GetEventParam(0), 0)]]>
							</expr>
						</init>
						<init target="WindowY" ver="5">
							<expr>
								<![CDATA[String.ToInt4(GetEventParam(1), 0)]]>
							</expr>
						</init>
						<init target="Items" ver="5">
							<expr>
								<![CDATA[GetMenuItems()]]>
							</expr>
						</init>
						<init target="init_Theme" ver="5" ref="here.private.pTheme"/>
					</object>
				</do-on>
				<object access-modifier="private" name="OnMenuClick" display-name="OnMenuClick" uuid="60902d2a-6539-4fed-b39f-75a875fe89ea" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
					<designed target="Enabled" value="true" ver="5"/>
					<designed target="InvokeTrigger" value="false" ver="5"/>
					<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
						<body kind="om">
							<![CDATA[cmd: string = MenuResult.Id;

if (cmd == "PAUSE")
{
	SetPause(true);
}
else if (cmd == "PLAY")
{
	SetPause(false);
}
else if (cmd == "TREE")
{
	ShowSources = !ShowSources;
}
else if (cmd == "TOOLBAR")
{
	ShowToolbar = !ShowToolbar;
}
else if (cmd == "LEGEND")
{
	ShowLegend = !ShowLegend;
}
else if (cmd == "ONLY")
{
	shownOnlyChart: bool = !ShowToolbar && !ShowLegend && !ShowSources;
	// если отображаются только графики, то показываем все панели, иначе скрываем их
	ShowToolbar = shownOnlyChart;
	ShowLegend = shownOnlyChart;
	ShowSources = shownOnlyChart;
}
else if (cmd == "REMOVE")
{
	selectChart: int4 = SelectedChart;
	Chart[selectChart].SetVisible(false);
	i:int4 = 1;
	while (i <= unit.Const.MAX_LINES)
	{
		if (Params.Lines[i].Used && Params.Lines[i].nChart==selectChart)
		{
			Lines.SetChart(i, Chart.GetFirst());
			Lines.SetVisible(i, false);
		}
		i += 1;
	}
}
else if (cmd == "SCREENSHOT")
{
	SaveScreenshot.Invoke();
}
else if (cmd == "OPTIONS")
{
	here.private.EditSettings.Invoke();
}]]>
						</body>
					</do-on>
				</object>
				<do access-modifier="private" name="GetMenuItems" display-name="GetMenuItems" ver="5" type="string" type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d">
					<body kind="javascript">
						<![CDATA[var items = [];

if (ActiveMode == unit.Const.amOPERATIVE)
{
	if (private.bPlayStatus.Value)
		items.push({'id':"PAUSE", 'title':"Приостановить", 'icon': "Trends_Icons/Pause16.png"});
	else	items.push({'id':"PLAY", 'title':"Продолжить", 'icon': "Trends_Icons/Play16.png"});
	items.push({'title':"-"});
}

var viewItem = {'id':"VIEW", 'title':"Вид"};
viewItem.items = [];
viewItem.items.push({'id':"TREE", 		'title':"Дерево сигналов", 			'checked':ShowSources.Value});
viewItem.items.push({'id':"TOOLBAR",	'title':"Панель инструментов",	'checked':ShowToolbar.Value});
viewItem.items.push({'id':"LEGEND",		'title':"Легенда", 							'checked':ShowLegend.Value});
items.push(viewItem);

var shownOnlyChart = !ShowToolbar.Value && !ShowLegend.Value && !ShowSources.Value;
items.push({'id':"ONLY", 'title':"Отобразить только графики", 'checked':shownOnlyChart});

var i = 0;
var countCharts = 0
while (i < Params.Charts.Length)
{
	if (Params.Charts[i].bVisible) countCharts += 1;
	i += 1;
}
items.push({'id':"REMOVE", 'title':"Удалить трендовое поле", 'active':countCharts>1 });

if (here.private.pPermissions.Export.Value)
{
	if (ToolBar.Runtime.WorkMode==unit.Const.rwmDESKTOP)
	{
		items.push({'title':"-"});
		items.push({'id':"SCREENSHOT", 'title':"Сохранить текущее изображение в файл...", 'icon': "Trends_Icons/Camera16.png" });
	}
}

if (here.private.pPermissions.EditSettings.Value)
{
	items.push({'title':"-"});
	items.push({'id':"OPTIONS", 'title':"Параметры...", 'icon': "Trends_Icons/Options16.png" });
}

return JSON.stringify(items);]]>
					</body>
				</do>
				<object access-modifier="private" name="MenuResult" display-name="MenuResult" uuid="9226e583-abd6-444f-b823-8e978682c2b7" base-type="MenuResult" base-type-id="0fe7658c-92f4-4af7-b038-3594414ac651" ver="5"/>
			</object>
			<init target="pOnMouseRightRelease" ver="5" ref="ShowContextMenu"/>
			<do-trace access-modifier="private" target="UseServerTime" ver="5">
				<body>
					<![CDATA[here.UseServerTime]]>
				</body>
			</do-trace>
			<object access-modifier="private" name="ShowLegendMenu" display-name="ShowLegendMenu" uuid="69702682-3f77-40f9-8b2f-029c331e3a0a" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked" form-action="open-new" form-by-id="false">
					<object access-modifier="private" uuid="3f2fba01-7e25-44ad-ab0c-5e826b71c026" base-type="Menu" base-type-id="07bb4545-980a-4140-bbaa-4d1397447864" ver="5">
						<init target="pResult" ver="5" ref="MenuResult"/>
						<init target="pAction" ver="5" ref="OnMenuClick"/>
						<init target="WindowX" ver="5">
							<expr>
								<![CDATA[String.ToInt4(GetEventParam(0), 0)]]>
							</expr>
						</init>
						<init target="WindowY" ver="5">
							<expr>
								<![CDATA[String.ToInt4(GetEventParam(1), 0)]]>
							</expr>
						</init>
						<init target="Items" ver="5">
							<expr>
								<![CDATA[GetMenuItems()]]>
							</expr>
						</init>
						<init target="init_Theme" ver="5" ref="here.private.pTheme"/>
					</object>
				</do-on>
				<object access-modifier="private" name="MenuResult" display-name="MenuResult" uuid="8d31194d-f703-468a-ab69-8d4f3f539207" base-type="MenuResult" base-type-id="0fe7658c-92f4-4af7-b038-3594414ac651" ver="5"/>
				<object access-modifier="private" name="OnMenuClick" display-name="OnMenuClick" uuid="0f10f079-5ffa-48e2-970a-3ea17e7cebcc" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
					<designed target="Enabled" value="true" ver="5"/>
					<designed target="InvokeTrigger" value="false" ver="5"/>
					<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
						<body kind="javascript">
							<![CDATA[var cmd = MenuResult.Id;

// Получаем массив индексов графиков из массива выделенных строк
var i = 0;
var selItems = [];
var sel = JSON.parse(Legend.View.GetSelectedRows());
while (i < sel.length)
{
	selItems[i] = Legend.iItemInLegend[sel[i]];
	i += 1;
}

i = 0;
if (cmd == "1")
{
	// Значение видимости применяется для всех графиков одинаково по последнему выделенному графику
	var showMarkers = Params.Lines[selItems[0]].bShowMarkerLabels;
	while (i < sel.length)
	{
		private.SetMarkerLabelVisible(selItems[i], !showMarkers);
		i += 1;
	}
}
else if (cmd == "2")
{
	// Значение видимости применяется для всех графиков одинаково по последнему выделенному графику
	var lineVisible = Params.Lines[selItems[0]].bVisible;
	while (i < sel.length)
	{
		Lines.SetVisible(selItems[i], !lineVisible);
		i += 1;
	}
	Axis.LinkUpdate(GlobalRanges);
	UpdateYRanges(AutoRange);
	Axis.WidthUpdate();
}
else if (cmd.substr(0, 6) == "chart_")
{
	var newChart = cmd.substr(6);
	var nChart = (newChart == "new") ? Params.Charts.GetFree() : newChart;
	while (i < sel.length)
	{
		Lines.SetChart(selItems[i], nChart);
		i += 1;
	}
	Axis.LinkUpdate(GlobalRanges);
	UpdateYRanges(AutoRange);
} 
else if (cmd.substr(0, 4) == "tag_")
{
	var tag = cmd.substr(4);
	while (i < sel.length)
	{
		SetGraphicAxis(selItems[i], tag);
		i += 1;
	}
} 
else if (cmd == "5" || cmd == "6")
{
	while (i < sel.length)
	{
		var itemIndex = selItems[i];
		var path = Params.Lines[itemIndex].Tag;
		var EU = Params.Lines[itemIndex].Unit;
		var description = Params.Lines[itemIndex].Description;
		var nChart = Params.Lines[itemIndex].nChart;
		var nXColumn = Params.Lines[itemIndex].nXColumn;
		// Добавляем график с нужным временем, если оно не такое как требуется
		if (cmd == "5" && nXColumn != unit.Const.tmSOURCE)
			private.ItemsAdd(path, EU, description, unit.Const.tmSOURCE, unit.Const.tgMAIN_GRAPH, nChart);
		else if (cmd == "6" && nXColumn != unit.Const.tmSERVER)
			private.ItemsAdd(path, EU, description, unit.Const.tmSERVER, unit.Const.tgMAIN_GRAPH, nChart);
		i += 1;
	}
	Legend.Update();
}
else if (cmd == "7")
{
	while (i < sel.length)
	{
		RemoveItemByIndex(selItems[i]);
		i += 1;
	}
}
else if (cmd == "8")
{
	Clear();
}
else if (cmd.substr(0, 7) == "column_")
{
	var columnId = cmd.substr(7);
	Legend.View.Columns.ChangeColumnVisibility(columnId);
}
else if (cmd.substr(0, 8) == "convert_")
{
	let altUnit = cmd.substr(8);
	ConvertUnits(altUnit, JSON.stringify(selItems));
}]]>
						</body>
					</do-on>
				</object>
				<do access-modifier="private" name="GetMenuItems" display-name="GetMenuItems" ver="5" type="string" type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d">
					<body kind="javascript">
						<![CDATA[// Получаем массив индексов графиков из массива выделенных строк
var i = 0;
var selItems = [];
var sel = JSON.parse(Legend.View.GetSelectedRows());
while (i < sel.length)
{
	selItems[i] = Legend.iItemInLegend[sel[i]];
	i += 1;
}

var items = [];

items.push({ 'id': 1, 'title': "Выноски реперов", 'active': selItems.length > 0, 'checked': selItems.length > 0 && Params.Lines[selItems[0]].bShowMarkerLabels });
items.push({ 'id': 2, 'title': "Видимость графика", 'active': selItems.length > 0, 'checked': selItems.length > 0 && Params.Lines[selItems[0]].bVisible });

items.push({ 'title': "-" });
var chartsItem = { 'id': 9, 'title': "Разместить график на поле", 'active': selItems.length > 0 };
chartsItem.items = [];
chartsItem.items.push({ 'id': "chart_new", 'title': "Новое поле" });
chartsItem.items.push({ 'title': "-" });
var i = 0;
var n = 0;
while (i < Params.Charts.Length)
{
	if (Params.Charts[i].bVisible)
	{
		n += 1;
		chartsItem.items.push({ 'id': "chart_"+i, 'title': n, 'active': selItems.some((ii) => i != Params.Lines[ii].nChart) });
	}
	i += 1;
}
items.push(chartsItem);

if (!GlobalRanges.Value && selItems.length > 0)
{
	var tagList = GetListTags(selItems[0]);
	if (tagList != "")
	{
		var axesItem = { 'id': 4, 'title': "Разместить график на шкале" };
		axesItem.items = [];
		var i = 0;
		var tags = tagList.split(",");
		while (i < tags.length)
		{
			axesItem.items.push({ 'id': "tag_" + tags[i], 'title': tags[i] });
			i += 1;
		}
		items.push(axesItem);		
	}
}

items.push({ 'title': "-" });
if (ActiveMode.Value == unit.Const.amHISTORY && UseServerTime)
{
	var someNotSource = false; // среди выделенных нет какого-либо сигнала с временем источника
	var someNotServer = false; // среди выделенных нет какого-либо сигнала с временем сервера
	for (var ii in selItems)
	{
		var itemIndex = selItems[ii];
		var selItemTag = Params.Lines[itemIndex].Tag;
		var selXColumn = Params.Lines[itemIndex].nXColumn;
		
		var bPara = false;  // признак существования пары графиков
		var i = 1;
		while (i <= unit.Const.MAX_LINES)
		{
			if (i != itemIndex && Params.Lines[i].Used && 
				Params.Lines[i].Tag == selItemTag && 
				Params.Lines[i].nXColumn != selXColumn)
			{
				bPara = true;
				break;
			}
			i += 1;
		}
		
		if (!bPara)
		{
			// если у нет пары, то отмечаем какого времени не хватает
			if (selXColumn == unit.Const.tmSERVER)
				someNotSource = true;
			else if (selXColumn == unit.Const.tmSOURCE)
				someNotServer = true;
		}
		
		// при отсутствии обоих вариантов ремени нет смысла проверть другие графики
		if (someNotSource && someNotServer)
			break;
	}

	items.push({ 'id': 5, 'title': "Добавить график по времени источника", 'icon': "Trends_Icons/Add16.png", 'active': someNotSource });
	items.push({ 'id': 6, 'title': "Добавить график по времени сервера", 'icon': "Trends_Icons/Add16.png", 'active': someNotServer });
}

items.push({ 'id': 7, 'title': "Удалить", 'icon': "Trends_Icons/Remove16.png", 'active': selItems.length > 0 });
items.push({ 'id': 8, 'title': "Удалить все", 'active': Params.LinesCount > 0 });

items.push({ 'title': "-" });
items.push({ 'id': "columns", 'title': "Столбцы", 'items': JSON.parse(Legend.View.ShowContextMenu.GetMenuItems()) });

let convertItem = { 'id': "convert", 'title': "Изменить единицы измерения"};
convertItem.items = JSON.parse(ConvertUnitsMenu.Get(JSON.stringify(selItems)));

if (convertItem.items.length > 0)
{
	items.push({ 'title': "-" });
	items.push(convertItem);
}

return JSON.stringify(items);]]>
					</body>
				</do>
				<do access-modifier="private" name="GetListTags" display-name="GetListTags" ver="5" type="string" type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d">
					<body kind="om">
						<![CDATA[// Формирование списка элементов из тэгов сигналов доступных для переключения осей в режиме индивидуальных осей
sItems:string = "";

i:int4 = 0;
j:int4 = 1;
if (Params.Lines[index].numAxis != index)	// Если выбранный график находится не на своей шкале
{
	sItems = "Отдельная шкала,";		// добавляем пункт для возвращения на свою шкалу
	i += 1;
}
else
{
	while (j <= unit.Const.MAX_LINES && String.Length(sItems)==0)			// Перебираем графики 
	{
		if (Params.Lines[j].Used && j!=index)
		{
			// Если есть сигналы подключенные к шкале выбранного сигнала
			if (WS.Chart.Params.Lines[j].numAxis == index )
				sItems = "Отдельная шкала,";		// добавляем пункт для освобождения своей шкалы
		}
		j += 1;
	}
}

j = 1;
while (j <= unit.Const.MAX_LINES)			// Перебираем графики
{
	if (Params.Lines[j].Used && j!=index && Params.Lines[j].nChart == Params.Lines[index].nChart)
	{																				// Если найден сигнал отличный от текущего добавляем его в список
		// Добавляем графики которые привязаны к своим осям и к которым не привязан выбранный график
		if (Params.Lines[j].numAxis == j && Params.Lines[index].numAxis !=j )
		{
			sItems += WS.Chart.Params.Lines[j].Tag + ",";
			i += 1;
		}
	}
	j += 1;
}

if (String.EndsWith(sItems, ",")) 
	sItems = String.SubString(sItems, 0, String.Length(sItems)-1);

return sItems;]]>
					</body>
					<param access-modifier="private" name="index" display-name="" uuid="8d11f6c9-96d2-4812-9f7d-f927dd846a2a" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
				</do>
				<do access-modifier="private" name="SetGraphicAxis" display-name="SetGraphicAxis" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
					<body kind="om">
						<![CDATA[if (newScaleTag != "")
{																// Замена шкалы выбранного графика
	tag:string = Params.Lines[index].Tag;

	if (newScaleTag == "Отдельная шкала")
	{
		if (Params.Lines[index].numAxis == index)			//	Освобождение от других графиков
		{
			j:int4 = 1;
			n1:int4 = 0;
			while (j <= unit.Const.MAX_LINES && n1==0)			// Перебираем cписok подключенных сигналов
			{
				if (Params.Lines[j].Used && j!=index)
				{																				// Ищем первый сигнал подключенный к шкале выбранного сигнала
					if (Params.Lines[j].numAxis == index)
						n1 = j;		// Запоминаем индекс первого сигнала подключенного к выбранной шкале
				}
				j += 1;
			}																								
			Axis.CopysParams(index, n1, Params.Lines[index].nChart);		// Настройки шкалы копируем на новую шкалу
			tag = Params.Lines[n1].Tag;
			newScaleTag = tag;
			j = 1;
			while (j <= unit.Const.MAX_LINES)			// Перебираем cписok подключенных сигналов
			{
				if (Params.Lines[j].Used && j!=index)
				{																				// Все сигналы подключенные к выбранной шкале переключаем на шкалу первого подключенного сигнала
					if (Params.Lines[j].numAxis == index)
						WS.Chart.SetGraphicAxis(Params.Lines[j].Tag, tag);
				}
				j += 1;
			}
		}
		else
		{
			newScaleTag = tag;	// Возвращение на свою ось
		}
	}
	WS.Chart.SetGraphicAxis(tag, newScaleTag);  // устанавливаем новую шкалу для выбранного графика
}]]>
					</body>
					<param access-modifier="private" name="index" display-name="" uuid="b783d20b-9ad8-4f2b-9dcd-e3914bdfd785" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
					<param access-modifier="private" name="newScaleTag" display-name="" uuid="4274631f-ff57-4331-975d-8eff0dd80a77" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
				</do>
			</object>
			<object access-modifier="private" name="DataSaved" display-name="DataSaved" uuid="76bdfb54-1b17-47bb-8597-a027592d353c" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5" description="" cardinal="1">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
					<body kind="om">
						<![CDATA[filePath: string = GetEventParam(0);
error: string = GetEventParam(1);

if (filePath != "")
{
	// уведомляем об экспорте графиков в файл
	here.private.EventParams[0] = filePath;
	here.private.EventParams[1] = error;
	here.OnDataSave.Invoke();
}]]>
					</body>
				</do-on>
			</object>
			<object access-modifier="private" name="ScreenSaved" display-name="ScreenSaved" uuid="0f226922-a6e1-4805-a784-6b2250605da5" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5" description="" cardinal="1">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
					<body kind="om">
						<![CDATA[filePath: string = GetEventParam(0);
error: string = GetEventParam(1);

here.private.EventParams[0] = filePath;
here.private.EventParams[1] = error;
here.OnScreenSave.Invoke();]]>
					</body>
				</do-on>
			</object>
			<init target="pOnTableExport" ver="5" ref="TableExported"/>
			<init target="pOnDataSave" ver="5" ref="DataSaved"/>
			<object access-modifier="private" name="SignalListSaved" display-name="SignalListSaved" uuid="ad8c2f3e-5306-48a1-8b4a-b15ca39e19be" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5" description="" cardinal="1">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
					<body kind="om">
						<![CDATA[// уведомляем сохранении списка сигналов в файл
here.private.EventParams[0] = GetEventParam(0);
here.private.EventParams[1] = GetEventParam(1);
here.OnSaveSignalList.Invoke();]]>
					</body>
				</do-on>
			</object>
			<init target="pOnSaveSignalList" ver="5" ref="SignalListSaved"/>
			<object access-modifier="private" name="TableExported" display-name="TableExported" uuid="b16c90bb-1506-4555-b1b8-3c16737933f8" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5" description="" cardinal="1">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
					<body kind="om">
						<![CDATA[// уведомляем об экспорте таблицы с данными в файл
here.private.EventParams[0] = GetEventParam(0);
here.private.EventParams[1] = GetEventParam(1);
here.OnTableExport.Invoke();]]>
					</body>
				</do-on>
			</object>
			<object access-modifier="private" name="ErrorOccurred" display-name="ErrorOccurred" uuid="34fba958-d71a-4f85-b969-a00cefccd824" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5" description="" cardinal="1">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
					<body kind="om">
						<![CDATA[here.private.ShowError.message = parent.GetEventParam(0);
here.private.ShowError.Invoke();
]]>
					</body>
				</do-on>
			</object>
			<init target="initApSource" ver="5" ref="here.int_AP"/>
			<do-trace access-modifier="private" target="ModeTimeSourceServer" ver="5">
				<body>
					<![CDATA[here.ModeTimeSourceServer]]>
				</body>
			</do-trace>
			<init target="init_Theme" ver="5" ref="here.init_Theme"/>
			<init target="pOnError" ver="5" ref="ErrorOccurred"/>
			<init target="init_ScreenKeyboard" ver="5" ref="here.init_ScreenKeyboard"/>
			<do-trace access-modifier="private" target="ShowLegend" ver="5">
				<body>
					<![CDATA[here.ShowLegend]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="MaxLineLegendShow" ver="5">
				<body>
					<![CDATA[here.MaxLineLegendShow]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ShowRelativeTag" ver="5">
				<body>
					<![CDATA[here.ShowRelativeTag]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ShowFullDescription" ver="5">
				<body>
					<![CDATA[here.ShowFullDescription]]>
				</body>
			</do-trace>
			<init target="pOnLegendMouseRightRelease" ver="5" ref="ShowLegendMenu"/>
			<object access-modifier="private" name="LayoutWeight" display-name="LayoutWeight" uuid="dae4ffa3-d533-4101-b406-a8084455fa68" base-type="LayoutWeight" base-type-id="8f3d975c-9645-4288-9406-a8dda0527008" ver="5">
				<designed target="Weight" value="10000" ver="5"/>
			</object>
			<object access-modifier="private" name="DoOnPrintSettings" display-name="DoOnPrintSettings" uuid="c96ba764-52df-4eb4-9243-a10853d57fc9" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5" description="" cardinal="1">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
					<body kind="om">
						<![CDATA[here.OnDoPrintSettings.Invoke();]]>
					</body>
				</do-on>
			</object>
			<object access-modifier="private" name="DoOnPrint" display-name="DoOnPrint" uuid="2945eecd-ba59-428a-8716-edf93f211bcd" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5" description="" cardinal="1">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
					<body kind="om">
						<![CDATA[here.OnPrint.Invoke();]]>
					</body>
				</do-on>
			</object>
			<init target="pOnDoPrintSettings" ver="5" ref="DoOnPrintSettings"/>
			<init target="pOnPrint" ver="5" ref="DoOnPrint"/>
			<init target="init_Permissions" ver="5" ref="here.init_Permissions"/>
			<init target="pOnScreenSave" ver="5" ref="ScreenSaved"/>
			<init target="pOnSettingsChanged" ver="5" ref="here.private.SettingsChanged"/>
			<init target="init_Templates" ver="5" ref="here.init_Templates"/>
			<init target="pOnViewChanged" ver="5" ref="here.private.ViewChanged"/>
			<init target="init_Settings" ver="5" ref="here.private.Settings"/>
		</object>
		<object access-modifier="private" name="Layout" display-name="Layout" uuid="7ae1c65c-4757-4a8c-9c68-13add5cc8797" base-type="LinearLayout" base-type-id="800edd71-7303-408c-890b-8346e98f5718" ver="5">
			<designed target="Orientation" value="1" ver="5"/>
			<designed target="Gap" value="0" ver="5"/>
		</object>
		<object access-modifier="private" name="LayoutWeight" display-name="LayoutWeight" uuid="fa7eeffd-8240-4bd0-a8d5-45a21e497f00" base-type="LayoutWeight" base-type-id="8f3d975c-9645-4288-9406-a8dda0527008" ver="5" description="" cardinal="1">
			<designed target="Weight" value="1000" ver="5"/>
		</object>
		<designed target="Flip" value="0" ver="5"/>
	</object>
	<object access-modifier="private" name="Status" display-name="Status" uuid="f67a192e-1ba0-4ef2-a953-71bf69d251d3" base-type="Trends_Statusbar" base-type-id="60ec2e95-2b2d-4f82-9cbe-d981c7cd7032" ver="5">
		<designed target="X" value="0" ver="5"/>
		<designed target="Y" value="575" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<do-trace access-modifier="private" target="Visible" ver="5">
			<body>
				<![CDATA[ShowStatus]]>
			</body>
		</do-trace>
		<do-trace access-modifier="private" target="IsVisible" ver="5">
			<body>
				<![CDATA[ShowStatus]]>
			</body>
		</do-trace>
		<designed target="Width" value="900" ver="5"/>
		<designed target="Height" value="25" ver="5"/>
		<init target="init_ApSource" ver="5" ref="here.int_AP"/>
		<do-trace access-modifier="private" target="Warnings" ver="5">
			<body>
				<![CDATA[WS.Chart.AdviseWarnings]]>
			</body>
		</do-trace>
		<init target="init_Theme" ver="5" ref="here.init_Theme"/>
		<do-trace access-modifier="private" target="UseSecurity" ver="5">
			<body>
				<![CDATA[here.private.pPermissions.UseSecurity]]>
			</body>
		</do-trace>
		<init target="init_ScreenKeyboard" ver="5" ref="here.init_ScreenKeyboard"/>
	</object>
	<init target="HighRange" ver="5" value="100"/>
	<init target="LowRange" ver="5" value="0"/>
	<init target="ActiveMode" ver="5" value="0"/>
	<object access-modifier="private" name="TreeFindEnable" display-name="Разрешить поиск в дереве сигналов" uuid="91431337-956d-41a1-9384-c8ef4fc362a2" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<object access-modifier="private" name="SynchroColorMarker" display-name="Синхронизировать цвет графика и выноски" uuid="ce08c89a-ae7b-469a-a25d-97d71764b479" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<object access-modifier="private" name="ShowRelativeTag" display-name="Показывать относительный тег" uuid="87370a93-6495-488e-9614-724e6107b618" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<init target="ShowRelativeTag" ver="5" value="false"/>
	<object access-modifier="private" name="ShowFullDescription" display-name="Показывать полное описание" uuid="ef81f7ce-6ecd-4a91-9443-fb930aaa94e2" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<object access-modifier="private" name="UseServerTime" display-name="Загружать метку времени сервера" uuid="7646af19-1d5c-4e59-a696-aadd87e096dd" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="5"/>
	<init target="UseServerTime" ver="5" value="false"/>
	<do access-modifier="private" name="OpenPrint" display-name="OpenPrint" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<body kind="om">
			<![CDATA[WS.Chart.ShowPrintDialog.Invoke();]]>
		</body>
	</do>
	<object access-modifier="private" name="OnTableExport" display-name="OnTableExport" uuid="a8860de5-9aa7-412b-8acd-35e090f09451" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" base-const="true" base-ref="true" ver="5"/>
	<object access-modifier="private" name="OnDoPrintSettings" display-name="OnDoPrintSettings" uuid="4ded39fc-4ac2-4133-9993-a8cd46883e5d" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" base-const="true" base-ref="true" ver="5"/>
	<object access-modifier="private" name="OnPrint" display-name="OnPrint" uuid="39edf662-70f0-405f-a9a5-fb70393e12b1" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" base-const="true" base-ref="true" ver="5"/>
	<object access-modifier="private" name="OnDataSave" display-name="OnDataSave" uuid="f9fdf2e5-34cd-423a-82b4-ff4161e897ce" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" base-const="true" base-ref="true" ver="5"/>
	<object access-modifier="private" name="OnScreenSave" display-name="OnScreenSave" uuid="9564330a-9aee-40fd-aaa4-2d3de8ea9ff4" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" base-const="true" base-ref="true" ver="5"/>
	<object access-modifier="private" name="OnSaveSignalList" display-name="OnSaveSignalList" uuid="364bc60f-d55d-4067-a70e-b79f1f192073" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" base-const="true" base-ref="true" ver="5"/>
	<do access-modifier="private" name="GetEventParam" display-name="GetEventParam" ver="5" type="string" type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d">
		<body kind="om">
			<![CDATA[if (numParam >= 0 && numParam < private.EventParams.Length)
	return private.EventParams[numParam];
else return "";]]>
		</body>
		<param access-modifier="private" name="numParam" display-name="" uuid="cd2174dd-debf-4173-bb58-2f32a4bdb470" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5"/>
	</do>
	<init target="TicksCountAxisX" ver="5" value="7"/>
	<init target="TicksCountAxisY" ver="5" value="11"/>
	<do access-modifier="private" name="ConfigureGraphic" display-name="ConfigureGraphic" ver="5" type="bool" type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8">
		<param access-modifier="private" name="tag" display-name="" uuid="f48640d4-3adc-4a86-91b9-ba7749ebc233" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<param access-modifier="private" name="json" display-name="" uuid="8c6fd3b9-55a5-44b2-bd01-c1e2ba2c5668" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		<body kind="om">
			<![CDATA[return WS.Chart.ConfigureGraphic(tag, json);]]>
		</body>
	</do>
	<init target="ControlLineMultipleAdd" ver="5" value="true"/>
	<init target="SynchronizeColor" ver="5" value="true"/>
	<init target="SynchroColorMarker" ver="5" value="false"/>
	<init target="RedLineShift" ver="5" value="1"/>
	<init target="ShowFullDescription" ver="5" value="false"/>
	<do access-modifier="private" name="AddControlLine" display-name="Добавить реперную линию" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<body kind="om">
			<![CDATA[lb: uint8 = WS.Chart.ViewInterval.Begin;
rb: uint8 = WS.Chart.ViewInterval.End;
time: uint8 = TypeConvert.ToUint8(lb + (rb - lb) / 2);
WS.Chart.Repers.Add(time);]]>
		</body>
	</do>
	<designed target="Flip" value="0" ver="5"/>
	<init target="ShowDataPoints" ver="5" value="false"/>
	<init target="ShowMiniTrends" ver="5" value="true"/>
	<init target="ShowEU" ver="5" value="true"/>
	<init target="init_Theme" ver="5">
		<object access-modifier="private" uuid="ce025e21-f091-4340-bb88-abd670e9ec21" base-type="Trends_Theme" base-type-id="3fbfa4c2-c742-4bec-94dc-d1bcb7ef25b6" ver="5"/>
	</init>
	<init target="init_Permissions" ver="5">
		<object access-modifier="private" uuid="79d64865-efb7-4942-91c9-203ac089ca37" base-type="Trends_Permissions" base-type-id="083b63d1-3678-4da0-80a0-9c09d0076a3c" ver="5"/>
	</init>
	<init target="GraphicThickness" ver="5" value="1"/>
	<init target="DeltaLineWidth" ver="5" value="1"/>
	<do access-modifier="private" name="ConvertUnits" display-name="ConvertUnits" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<body kind="om">
			<![CDATA[WS.Chart.ConvertUnits(altUnit, "");]]>
		</body>
		<param access-modifier="private" name="altUnit" display-name="" uuid="084330be-7453-45f6-ac1e-e71158a7e193" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
	</do>
	<init target="init_ScreenKeyboard" ver="5">
		<object access-modifier="private" uuid="37f1a349-f44f-48be-af59-67dd0d87ff54" base-type="ScreenKeyboardOptions" base-type-id="0589bc8e-fbb2-4f0e-b5d2-f0d825538ef1" ver="5">
			<init target="Enabled" ver="5" value="false"/>
		</object>
	</init>
	<do-trace access-modifier="private" target="PenColor" ver="5">
		<body>
			<![CDATA[private.pTheme.BorderColor]]>
		</body>
	</do-trace>
	<init target="PenColor" ver="5" ref="init_Theme.BorderColor"/>
	<do-trace access-modifier="private" target="BrushColor" ver="5">
		<body>
			<![CDATA[private.pTheme.BackgroundColor]]>
		</body>
	</do-trace>
	<init target="BrushColor" ver="5" ref="init_Theme.BackgroundColor"/>
	<init target="TreeFindEnable" ver="5" value="true"/>
	<init target="init_Templates" ver="5">
		<object access-modifier="private" uuid="cf610e5e-4dba-403e-bded-132c2e191e7f" base-type="Templates" base-type-id="020ae0f1-0abb-4c52-9c0e-0152917830ed" ver="5"/>
	</init>
</type>

