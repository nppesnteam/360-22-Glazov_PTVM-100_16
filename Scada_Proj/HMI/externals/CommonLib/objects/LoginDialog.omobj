<type access-modifier="public" name="LoginDialog" display-name="Диалог авторизации пользователя" uuid="eb8d4a9b-7cd2-4fcf-81e1-67eed3b5c0d4" base-type="Form" base-type-id="ffaf5544-6200-45f4-87ec-9dd24558a9d5" ver="5">
	<designed target="X" value="0" ver="5"/>
	<designed target="Y" value="0" ver="5"/>
	<designed target="ZValue" value="0" ver="5"/>
	<designed target="Rotation" value="0" ver="5"/>
	<designed target="Scale" value="1" ver="5"/>
	<designed target="Visible" value="true" ver="5"/>
	<designed target="Opacity" value="1" ver="5"/>
	<designed target="Enabled" value="true" ver="5"/>
	<designed target="Tooltip" value="" ver="5"/>
	<designed target="Width" value="400" ver="5"/>
	<designed target="Height" value="205" ver="5"/>
	<designed target="PenColor" value="4278190080" ver="5"/>
	<designed target="PenStyle" value="0" ver="5"/>
	<designed target="PenWidth" value="1" ver="5"/>
	<designed target="BrushColor" value="0xfff0f0f0" ver="5"/>
	<designed target="BrushStyle" value="1" ver="5"/>
	<designed target="WindowX" value="0" ver="5"/>
	<designed target="WindowY" value="0" ver="5"/>
	<designed target="WindowWidth" value="400" ver="5"/>
	<designed target="WindowHeight" value="205" ver="5"/>
	<designed target="WindowCaption" value="Авторизация пользователя" ver="5"/>
	<designed target="ShowWindowCaption" value="true" ver="5"/>
	<designed target="ShowWindowMinimize" value="false" ver="5"/>
	<designed target="ShowWindowMaximize" value="false" ver="5"/>
	<designed target="ShowWindowClose" value="true" ver="5"/>
	<designed target="AlwaysOnTop" value="false" ver="5"/>
	<designed target="WindowSizeMode" value="0" ver="5"/>
	<designed target="WindowBorderStyle" value="2" ver="5"/>
	<designed target="WindowState" value="0" ver="5"/>
	<designed target="WindowScalingMode" value="0" ver="5"/>
	<designed target="MonitorNumber" value="0" ver="5"/>
	<designed target="WindowPosition" value="2" ver="5"/>
	<designed target="WindowCloseMode" value="0" ver="5"/>
	<object access-modifier="private" name="Icon" display-name="Icon" uuid="a078556c-7d4e-4b71-aa89-8a7e82227257" base-type="Image" base-type-id="5a6b2782-c728-4a42-8c02-1a83ef97e138" ver="5">
		<designed target="X" value="10" ver="5"/>
		<designed target="Y" value="10" ver="5"/>
		<designed target="ZValue" value="0" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<designed target="Scale" value="1" ver="5"/>
		<designed target="Visible" value="true" ver="5"/>
		<designed target="Opacity" value="1" ver="5"/>
		<designed target="Enabled" value="true" ver="5"/>
		<designed target="Tooltip" value="" ver="5"/>
		<designed target="Width" value="32" ver="5"/>
		<designed target="Height" value="32" ver="5"/>
		<designed target="PenColor" value="4278190080" ver="5"/>
		<designed target="PenStyle" value="0" ver="5"/>
		<designed target="PenWidth" value="1" ver="5"/>
		<designed target="ImageFile" value="CommonLib_Icons/Users.png" ver="5"/>
		<designed target="Active" value="true" ver="5"/>
		<designed target="CurrentFrameNumber" value="0" ver="5"/>
		<designed target="Speed" value="1" ver="5"/>
		<designed target="Flip" value="0" ver="5"/>
	</object>
	<object access-modifier="private" name="Instruction" display-name="Instruction" uuid="7e531284-2ec5-4640-bf78-f945e8b4d0df" base-type="Text" base-type-id="21d59f8d-2ca4-4592-92ca-b4dc48992a0f" ver="5">
		<designed target="X" value="50" ver="5"/>
		<designed target="Y" value="10" ver="5"/>
		<designed target="ZValue" value="0" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<designed target="Scale" value="1" ver="5"/>
		<designed target="Visible" value="true" ver="5"/>
		<designed target="Opacity" value="1" ver="5"/>
		<designed target="Enabled" value="true" ver="5"/>
		<designed target="Tooltip" value="" ver="5"/>
		<designed target="Width" value="340" ver="5"/>
		<designed target="Height" value="35" ver="5"/>
		<designed target="Text" value="Введите имя пользователя и пароль для входа в систему или произведите выход из системы" ver="5"/>
		<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
		<designed target="FontColor" value="0xff000000" ver="5"/>
		<designed target="TextAlignment" value="129" ver="5"/>
		<do-trace access-modifier="private" target="FontColor" ver="5">
			<body>
				<![CDATA[private.pTheme.ForegroundColor]]>
			</body>
		</do-trace>
		<designed target="Flip" value="0" ver="5"/>
	</object>
	<object access-modifier="private" name="CurrentUser" display-name="CurrentUser" uuid="1811f911-586a-4bab-bfcb-6de7c51853c5" base-type="Text" base-type-id="21d59f8d-2ca4-4592-92ca-b4dc48992a0f" ver="5">
		<designed target="X" value="145" ver="5"/>
		<designed target="Y" value="50" ver="5"/>
		<designed target="ZValue" value="0" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<designed target="Scale" value="1" ver="5"/>
		<designed target="Visible" value="true" ver="5"/>
		<designed target="Opacity" value="1" ver="5"/>
		<designed target="Enabled" value="true" ver="5"/>
		<designed target="Tooltip" value="" ver="5"/>
		<designed target="Width" value="245" ver="5"/>
		<designed target="Height" value="30" ver="5"/>
		<designed target="Text" value="" ver="5"/>
		<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
		<designed target="FontColor" value="0xff000000" ver="5"/>
		<designed target="TextAlignment" value="129" ver="5"/>
		<object access-modifier="private" name="Label" display-name="Label" uuid="034f8e27-5651-4278-a399-b27e92de2404" base-type="Text" base-type-id="21d59f8d-2ca4-4592-92ca-b4dc48992a0f" ver="5">
			<designed target="X" value="-135" ver="5"/>
			<designed target="Y" value="0" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="" ver="5"/>
			<designed target="Width" value="135" ver="5"/>
			<designed target="Height" value="30" ver="5"/>
			<designed target="Text" value="Текущий пользователь:" ver="5"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
			<designed target="FontColor" value="0xff000000" ver="5"/>
			<designed target="TextAlignment" value="129" ver="5"/>
			<do-trace access-modifier="private" target="FontColor" ver="5">
				<body>
					<![CDATA[private.pTheme.ForegroundColor]]>
				</body>
			</do-trace>
			<designed target="Flip" value="0" ver="5"/>
		</object>
		<do-trace access-modifier="private" target="FontColor" ver="5">
			<body>
				<![CDATA[private.pTheme.ForegroundColor]]>
			</body>
		</do-trace>
		<designed target="Flip" value="0" ver="5"/>
	</object>
	<object access-modifier="private" name="UserComboBox" display-name="UserComboBox" uuid="9a99f167-016c-4539-bcf6-4f5881419db4" base-type="ComboBox" base-type-id="3495bcd2-01f2-4709-b7f4-e9cf6f3a00bc" ver="5">
		<designed target="X" value="100" ver="5"/>
		<designed target="Y" value="90" ver="5"/>
		<designed target="ZValue" value="0" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<designed target="Scale" value="1" ver="5"/>
		<designed target="Visible" value="true" ver="5"/>
		<designed target="Opacity" value="1" ver="5"/>
		<designed target="Enabled" value="true" ver="5"/>
		<designed target="Tooltip" value="" ver="5"/>
		<designed target="Width" value="290" ver="5"/>
		<designed target="Height" value="25" ver="5"/>
		<designed target="Editable" value="true" ver="5"/>
		<designed target="Text" value="" ver="5"/>
		<designed target="SelectedIndex" value="-1" ver="5"/>
		<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="5"/>
		<designed target="FontColor" value="4278190080" ver="5"/>
		<designed target="MaxVisibleItems" value="10" ver="5"/>
		<object access-modifier="private" name="Label" display-name="Label" uuid="fec70e28-ff26-4394-824b-40f36467810b" base-type="Text" base-type-id="21d59f8d-2ca4-4592-92ca-b4dc48992a0f" ver="5">
			<designed target="X" value="-90" ver="5"/>
			<designed target="Y" value="0" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="" ver="5"/>
			<designed target="Width" value="90" ver="5"/>
			<designed target="Height" value="25" ver="5"/>
			<designed target="Text" value="Пользователь:" ver="5"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
			<designed target="FontColor" value="0xff000000" ver="5"/>
			<designed target="TextAlignment" value="129" ver="5"/>
			<do-trace access-modifier="private" target="FontColor" ver="5">
				<body>
					<![CDATA[private.pTheme.ForegroundColor]]>
				</body>
			</do-trace>
			<designed target="Flip" value="0" ver="5"/>
		</object>
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="TextChanged">
			<body kind="om">
				<![CDATA[ButtonsPanel.UpdateButtonsEnable();]]>
			</body>
		</do-on>
		<designed target="Flip" value="0" ver="5"/>
		<designed target="InsertPolicy" value="3" ver="5"/>
		<do-on access-modifier="private" name="Handler_2" display-name="Handler_2" ver="5" event="FocusChanged">
			<body kind="om">
				<![CDATA[if (hasFocus)
	private.lastFocusedEditor = 0;]]>
			</body>
		</do-on>
	</object>
	<object access-modifier="private" name="PasswordEdit" display-name="PasswordEdit" uuid="2e628d84-48c6-476b-a890-795244850590" base-type="LineEdit" base-type-id="53a97863-93f3-45a1-a2ea-9ff98d2dcdd9" ver="5">
		<designed target="X" value="100" ver="5"/>
		<designed target="Y" value="120" ver="5"/>
		<designed target="ZValue" value="0" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<designed target="Scale" value="1" ver="5"/>
		<designed target="Visible" value="true" ver="5"/>
		<designed target="Opacity" value="1" ver="5"/>
		<designed target="Enabled" value="true" ver="5"/>
		<designed target="Tooltip" value="" ver="5"/>
		<designed target="Width" value="290" ver="5"/>
		<designed target="Height" value="25" ver="5"/>
		<designed target="Text" value="" ver="5"/>
		<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="5"/>
		<designed target="FontColor" value="4278190080" ver="5"/>
		<designed target="TextAlignment" value="129" ver="5"/>
		<designed target="HideInput" value="true" ver="5"/>
		<designed target="PlaceholderText" value="" ver="5"/>
		<designed target="ReadOnly" value="false" ver="5"/>
		<object access-modifier="private" name="Label" display-name="Label" uuid="fe2d8ba0-7f86-45b9-b4c3-aa22e1eb1a77" base-type="Text" base-type-id="21d59f8d-2ca4-4592-92ca-b4dc48992a0f" ver="5">
			<designed target="X" value="-90" ver="5"/>
			<designed target="Y" value="0" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="" ver="5"/>
			<designed target="Width" value="90" ver="5"/>
			<designed target="Height" value="25" ver="5"/>
			<designed target="Text" value="Пароль:" ver="5"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
			<designed target="FontColor" value="0xff000000" ver="5"/>
			<designed target="TextAlignment" value="129" ver="5"/>
			<do-trace access-modifier="private" target="FontColor" ver="5">
				<body>
					<![CDATA[private.pTheme.ForegroundColor]]>
				</body>
			</do-trace>
			<designed target="Flip" value="0" ver="5"/>
		</object>
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="TextChanged">
			<body kind="om">
				<![CDATA[ButtonsPanel.UpdateButtonsEnable();]]>
			</body>
		</do-on>
		<designed target="Flip" value="0" ver="5"/>
		<do-on access-modifier="private" name="Handler_2" display-name="Handler_2" ver="5" event="FocusChanged">
			<body kind="om">
				<![CDATA[if (hasFocus)
{
	SelectAll();
	private.lastFocusedEditor = 1;
}]]>
			</body>
		</do-on>
		<do-on access-modifier="private" name="Handler_3" display-name="Handler_3" ver="5" event="KeyPress">
			<body kind="om">
				<![CDATA[if (Focus)
{
	//Debug.Log("Key pressed in editor: " + String.ToString(event.KeyCode));
	private.OnKeyPress(event.KeyCode);
}]]>
			</body>
		</do-on>
	</object>
	<object access-modifier="private" name="private" display-name="private" uuid="f2299b2d-4ede-4ca8-b0ad-96ecffbf2daf" base-type="" base-type-id="00000000-0000-0000-0000-000000000000" ver="5">
		<object access-modifier="private" name="pTheme" display-name="pTheme" uuid="be182a20-2b3d-4c6b-a896-a0cb735eeb42" base-type="Theme" base-type-id="05d4d7df-0f8e-4ec1-ac85-b5460e30af81" ver="5" base-ref="true">
			<do-trace access-modifier="private" target="BackgroundColor" ver="5">
				<body>
					<![CDATA[pTheme.BackgroundColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ForegroundColor" ver="5">
				<body>
					<![CDATA[pTheme.ForegroundColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="DisabledFontColor" ver="5">
				<body>
					<![CDATA[pTheme.DisabledFontColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="EditorBrushColor" ver="5">
				<body>
					<![CDATA[pTheme.EditorBrushColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="EditorFontColor" ver="5">
				<body>
					<![CDATA[pTheme.EditorFontColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="SelectionColor" ver="5">
				<body>
					<![CDATA[pTheme.SelectionColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="BorderColor" ver="5">
				<body>
					<![CDATA[pTheme.BorderColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="DisabledBorderColor" ver="5">
				<body>
					<![CDATA[pTheme.DisabledBorderColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="Font" ver="5">
				<body>
					<![CDATA[pTheme.Font]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="TitleFont" ver="5">
				<body>
					<![CDATA[pTheme.TitleFont]]>
				</body>
			</do-trace>
		</object>
		<init target="pTheme" ver="5" ref="init_Theme"/>
		<object access-modifier="private" name="ScreenKeyboard" display-name="ScreenKeyboard" uuid="c7ace060-f6f6-43af-8e5c-3947397685cf" base-type="ScreenKeyboardOptions" base-type-id="0589bc8e-fbb2-4f0e-b5d2-f0d825538ef1" ver="5" description="" cardinal="1">
			<init target="ProgramPath" ver="5" ref="init_ScreenKeyboard.ProgramPath"/>
			<init target="Arguments" ver="5" ref="init_ScreenKeyboard.Arguments"/>
			<init target="Enabled" ver="5" value="true"/>
		</object>
		<do access-modifier="private" name="OnKeyPress" display-name="OnKeyPress" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[if (keyCode == 82) // Enter
	ButtonsPanel.LoginButton.Click();
else if (keyCode == 75) // Escape
	Close();]]>
			</body>
			<param access-modifier="private" name="keyCode" display-name="" uuid="863a4898-04ce-463b-a684-5455445861e8" base-type="uint4" base-type-id="a42274b8-724b-4f03-bcf9-dd8498c29f8e" ver="5"/>
		</do>
		<do access-modifier="private" name="FocusEditor" display-name="FocusEditor" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[if (lastFocusedEditor == 1)
	PasswordEdit.Focus = true;
else UserComboBox.Focus = true;]]>
			</body>
		</do>
		<object access-modifier="private" name="lastFocusedEditor" display-name="lastFocusedEditor" uuid="3c2945c3-c249-40cb-af7a-0ffd92d6b1a1" base-type="int4" base-type-id="74222947-f188-4195-8e0e-e33bd9827255" ver="5" description="" cardinal="1"/>
	</object>
	<object access-modifier="private" name="Debug" display-name="Debug" uuid="fc5af52a-bb96-4b79-a8cb-54f87ae6a04b" base-type="DebugTool" base-type-id="43946044-139a-43f4-a7b8-19a6074ffc56" ver="5"/>
	<object access-modifier="private" name="Keyboard" display-name="Keyboard" uuid="60cdd0f7-f723-4fce-9e5f-cfd83f68e4cd" base-type="Keyboard" base-type-id="9430301f-2693-4c5c-9013-867d8d8f73f4" ver="5" description="" cardinal="1"/>
	<object access-modifier="private" name="StringUtils" display-name="StringUtils" uuid="50f2b62c-3cfe-4c52-bd50-75ddc1e691f6" base-type="StringUtils" base-type-id="3ded1ef2-be27-4246-8c9e-8c68b24f1041" ver="5" description="" cardinal="1"/>
	<object access-modifier="private" name="WindowUtils" display-name="WindowUtils" uuid="a3dca12a-6ab0-41ba-a621-26a224029c5c" base-type="WindowUtils" base-type-id="4a818ada-44b1-4070-9b9d-c28dc3447ece" ver="5" description="" cardinal="1">
		<init target="pForm" ver="5" ref="here"/>
	</object>
	<object access-modifier="private" name="SecurityContext" display-name="SecurityContext" uuid="3edc2ecb-4827-47fa-90e0-bae27c1177a1" base-type="SecurityContext" base-type-id="d9cb0fff-b70a-4e2d-833d-3f73cf74e0dd" ver="5">
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="CurrentUserChanged">
			<body kind="om">
				<![CDATA[here.CurrentUser.Text = CurrentUserDisplayName;

// если попытка входа была с этого диалога и она удалась
if (fromThisDialog && !GuestMode)
{
	fromThisDialog = false;
	
	// проверяем нужно ли сменить пароль
	if (PasswordExpiresSoon)
	{
		ShowDialogIfPasswordExpiredSoon.FormatingMessage(PasswordExpiresIn);
		ShowDialogIfPasswordExpiredSoon.Invoke();
	}
	else
	{
		//закрываем диалог
		Close();
	}
}
else
	ButtonsPanel.UpdateButtonsEnable();]]>
			</body>
		</do-on>
		<do-on access-modifier="private" name="Handler_2" display-name="Handler_2" ver="5" event="ConnectedChanged">
			<body kind="om">
				<![CDATA[//Debug.Log("Connected: " + String.ToString(connected));
if (Connected)
{
	UserList.BeginUpdate();
	ErrorPanel.Visible = false;
	ErrorPanel.ErrorText.Text = "";
}
else
{
	//Debug.Log("ConnectionError: " + ConnectionError);
	if (ConnectionError == "")
		ErrorPanel.ErrorText.Text = "Отсутствует соединение с агентом безопасности";
	else ErrorPanel.ErrorText.Text = ConnectionError;
	ErrorPanel.Visible = true;
}
ButtonsPanel.UpdateButtonsEnable();
FitWindowSize();]]>
			</body>
		</do-on>
		<do-on access-modifier="private" name="Handler_4" display-name="Handler_4" ver="5" event="LoginRejected" form-by-id="false">
			<body kind="om">
				<![CDATA[//Debug.Log("Login rejected: " + errorMessage);

if (fromThisDialog)
{
	fromThisDialog = false;
	ShowLoginError.message = errorMessage;
	ShowLoginError.Invoke();
}]]>
			</body>
		</do-on>
		<object access-modifier="private" name="fromThisDialog" display-name="fromThisDialog" uuid="d8360418-dbe1-4cdb-8fa0-4fdafa2ed09c" base-type="bool" base-type-id="7c9fe1ab-1ee2-42d8-939f-94ce3e89fca8" ver="5"/>
		<object access-modifier="private" name="ShowLoginError" display-name="ShowLoginError" uuid="83375e6b-4fff-4118-9634-ef115b7cace9" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="InvokeTrigger" value="false" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked" form-action="open-dialog" form-by-id="false">
				<object access-modifier="private" uuid="06a8c42c-3047-42f8-b544-c282f2d63710" base-type="MessageDialog" base-type-id="a468f863-f603-4768-ad4b-e16bc34ea78e" ver="5">
					<designed target="WindowCaption" value="Авторизация пользователя" ver="5"/>
					<init target="Icon" ver="5" value="2"/>
					<init target="Buttons" ver="5" value="0"/>
					<init target="Message" ver="5">
						<expr>
							<![CDATA[message]]>
						</expr>
					</init>
					<init target="OkAction" ver="5" ref="ChangePasswordIfExpired"/>
					<init target="pTheme" ver="5" ref="here.private.pTheme"/>
				</object>
			</do-on>
			<object access-modifier="private" name="message" display-name="message" uuid="2694b822-6a8a-49d2-9b6b-f907b2b8419e" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</object>
		<object access-modifier="private" name="ChangePasswordIfExpired" display-name="ChangePasswordIfExpired" uuid="9eac9ff2-665e-4b3d-ab78-c3867738668a" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="InvokeTrigger" value="false" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
				<body kind="om">
					<![CDATA[//Debug.Log("LoginRejectReason: " + SecurityContext.LoginRejectReason);
if (SecurityContext.LoginRejectReason == "Срок действия пароля истек." ||
	String.StartsWith(SecurityContext.LoginRejectReason, "Пароль не соответствует парольной политике."))
{
	ChangePasswordAndClose.Invoke();
}]]>
				</body>
			</do-on>
		</object>
		<do-on access-modifier="private" name="Handler_5" display-name="Handler_5" ver="5" event="LoginFailed">
			<body kind="om">
				<![CDATA[//Debug.Log("Login filed: " + errorMessage);

if (fromThisDialog)
{
	fromThisDialog = false;
	ShowLoginError.message = errorMessage;
	ShowLoginError.Invoke();
}]]>
			</body>
		</do-on>
		<object access-modifier="private" name="ShowDialogIfPasswordExpiredSoon" display-name="ShowDialogIfPasswordExpiredSoon" uuid="ca2fdbdf-6db7-4d0c-b804-cf57a4adf8dc" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="InvokeTrigger" value="false" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked" form-action="open-dialog" form-by-id="false">
				<object access-modifier="private" uuid="701b9f7c-1907-4a12-93b5-70de1782f4d0" base-type="MessageDialog" base-type-id="a468f863-f603-4768-ad4b-e16bc34ea78e" ver="5">
					<designed target="WindowCaption" value="Авторизация пользователя" ver="5"/>
					<init target="Icon" ver="5" value="1"/>
					<init target="Buttons" ver="5" value="2"/>
					<init target="Message" ver="5">
						<expr>
							<![CDATA[message]]>
						</expr>
					</init>
					<init target="NoAction" ver="5" ref="No_CloseDialog"/>
					<init target="YesAction" ver="5" ref="ChangePasswordAndClose"/>
					<init target="pTheme" ver="5" ref="here.private.pTheme"/>
				</object>
			</do-on>
			<object access-modifier="private" name="message" display-name="message" uuid="d7bf6c6d-2a9a-42f1-9700-1ba666e6d768" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
			<object access-modifier="private" name="No_CloseDialog" display-name="No_CloseDialog" uuid="73dafbfb-dda3-4504-a3e7-c1023f4bc979" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="InvokeTrigger" value="false" ver="5"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked" form-action="close"/>
			</object>
			<do access-modifier="private" name="FormatingMessage" display-name="FormatingMessage" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
				<body kind="om">
					<![CDATA[if (passwordExpiresIn > 0)
{
	minutes: uint4 = passwordExpiresIn / 60;
	if (minutes < 1)
	{
		message = "Срок действия пароля заканчивается";
	}
	else
	{
		message = "Срок действия пароля заканчивается через ";
		
		hours: uint4 = minutes / 60;
		if (hours < 1)
			message += String.ToString(minutes) + " " + StringUtils.GetDeclension(minutes, "минуту", "минуты", "минут");
		else
		{
			days: uint4 = hours / 24;
			if (days < 1)
				message += String.ToString(hours) + " " + StringUtils.GetDeclension(hours, "час", "часа", "часов");
			else message += String.ToString(days) + " " + StringUtils.GetDeclension(days, "день", "дня", "дней");			
		}
	}
}
else
	message = "Срок действия пароля закончился";
	
message += ". Сменить пароль сейчас?";]]>
				</body>
				<param access-modifier="private" name="passwordExpiresIn" display-name="" uuid="f1c4234a-93e9-44e6-a704-1d158766dc66" base-type="uint4" base-type-id="a42274b8-724b-4f03-bcf9-dd8498c29f8e" ver="5"/>
			</do>
		</object>
		<object access-modifier="private" name="ChangePasswordAndClose" display-name="ChangePasswordAndClose" uuid="1875726d-e4a1-4c62-b33d-59b008fd3047" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" ver="5">
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="InvokeTrigger" value="false" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Invoked">
				<body kind="om">
					<![CDATA[Result.UserId = UserList.GetUserId(UserComboBox.Text);
Result.UserDisplayName = UserComboBox.Text;
here.ChangePassword.Invoke();
Close();]]>
				</body>
			</do-on>
		</object>
	</object>
	<object access-modifier="private" name="UserList" display-name="UserList" uuid="2c2cad5c-864c-403a-93d9-b627eab25202" base-type="UserList" base-type-id="7d9c142e-8718-4caa-82be-60ea2ec65981" ver="5">
		<init target="SecurityContext" ver="5" ref="here.SecurityContext"/>
		<do-on access-modifier="private" name="Handler_2" display-name="Handler_2" ver="5" event="UpdateFinished">
			<body kind="om">
				<![CDATA[//Debug.Log("Users: " + String.ToString(Count));
UserComboBox.Clear();

i: uint8 = 0;
while(i < Count)
{
	UserComboBox.AddItem(GetDisplayName(i));
	i += 1;
}

// заполнение выпадающего списка приводит к выбору первого элемента в списке,
// поэтому нужно очистить поле ввода, выбрав несуществующий элемент
UserComboBox.SelectedIndex = -1;]]>
			</body>
		</do-on>
		<do access-modifier="private" name="GetUserId" display-name="GetUserId" ver="5" type="string" type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d">
			<body kind="om">
				<![CDATA[// идентификатор пользователя
userId: string = user;

// если вместо идентификатора было введено отображаемое имя,
// то получаем идентификатор пользователя из списка пользователей
i: uint8 = 0;
while(i < Count)
{
	if (userId == GetDisplayName(i))
	{
		userId = GetLoginName(i);
		break;
	}
	i += 1;
}

return userId;]]>
			</body>
			<param access-modifier="private" name="user" display-name="" uuid="ac8d6cb5-1522-4a9a-a559-db45d7e633b7" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="5"/>
		</do>
	</object>
	<object access-modifier="private" name="CapsLockPanel" display-name="CapsLockPanel" uuid="88218805-c65a-43b0-bec8-bc07e0b29cd7" base-type="CapsLockWarning" base-type-id="a06b5b6e-77cd-4b01-98af-72f3336622a8" ver="5">
		<designed target="X" value="100" ver="5"/>
		<designed target="Y" value="145" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<designed target="Width" value="290" ver="5"/>
		<designed target="Height" value="20" ver="5"/>
		<designed target="PenColor" value="4278190080" ver="5"/>
		<designed target="BrushColor" value="4278190080" ver="5"/>
		<init target="pTheme" ver="5" ref="here.init_Theme"/>
	</object>
	<object access-modifier="private" name="ButtonsPanel" display-name="ButtonsPanel" uuid="6fafa02e-83c0-49c1-b094-f91838577509" base-type="Rectangle" base-type-id="15726dc3-881e-4d8d-b0fa-a8f8237f08ca" ver="5">
		<designed target="X" value="0" ver="5"/>
		<designed target="Y" value="160" ver="5"/>
		<designed target="ZValue" value="0" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<designed target="Scale" value="1" ver="5"/>
		<designed target="Visible" value="true" ver="5"/>
		<designed target="Opacity" value="1" ver="5"/>
		<designed target="Enabled" value="true" ver="5"/>
		<designed target="Tooltip" value="" ver="5"/>
		<designed target="Width" value="400" ver="5"/>
		<designed target="Height" value="45" ver="5"/>
		<designed target="RoundingRadius" value="0" ver="5"/>
		<designed target="PenColor" value="4278190080" ver="5"/>
		<designed target="PenStyle" value="0" ver="5"/>
		<designed target="PenWidth" value="1" ver="5"/>
		<designed target="BrushColor" value="4278190080" ver="5"/>
		<designed target="BrushStyle" value="0" ver="5"/>
		<object access-modifier="private" name="Service" display-name="Service" uuid="93b69c31-4de6-4795-b840-aaa09b3d038d" base-type="Rectangle" base-type-id="15726dc3-881e-4d8d-b0fa-a8f8237f08ca" ver="5" description="" cardinal="1">
			<designed target="X" value="10" ver="5"/>
			<designed target="Y" value="10" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Flip" value="0" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="" ver="5"/>
			<designed target="Width" value="75" ver="5"/>
			<designed target="Height" value="25" ver="5"/>
			<designed target="RoundingRadius" value="0" ver="5"/>
			<designed target="PenColor" value="0xff808080" ver="5"/>
			<designed target="PenStyle" value="0" ver="5"/>
			<designed target="PenWidth" value="1" ver="5"/>
			<designed target="BrushColor" value="0xfff0f0f0" ver="5"/>
			<designed target="BrushStyle" value="0" ver="5"/>
			<object access-modifier="private" name="Layout" display-name="Layout" uuid="6688f721-7f8a-4f84-9e61-e766fcbc4c7e" base-type="LinearLayout" base-type-id="800edd71-7303-408c-890b-8346e98f5718" ver="5" description="" cardinal="1">
				<designed target="Orientation" value="1" ver="5"/>
				<designed target="Gap" value="0" ver="5"/>
			</object>
			<object access-modifier="private" name="KeyboardLayoutButton" display-name="KeyboardLayoutButton" uuid="1f33e899-0d5f-4541-855b-8472a85ec401" base-type="KeyboardLayoutButton" base-type-id="658542d3-e1f2-4bcc-a4e3-52ea4ca129e9" ver="5" description="" cardinal="1">
				<designed target="X" value="10" ver="5"/>
				<designed target="Y" value="10" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Width" value="25" ver="5"/>
				<designed target="Height" value="25" ver="5"/>
				<init target="pTheme" ver="5" ref="here.init_Theme"/>
			</object>
			<object access-modifier="private" name="ScreenKeyboardButton" display-name="ScreenKeyboardButton" uuid="ec224344-5081-4b41-930e-e5cc7352d81e" base-type="ScreenKeyboardButton" base-type-id="e7774fc7-d5aa-4318-b97c-99203dbd1671" ver="5" description="" cardinal="1">
				<designed target="X" value="25" ver="5"/>
				<designed target="Y" value="0" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Width" value="25" ver="5"/>
				<designed target="Height" value="25" ver="5"/>
				<init target="pTheme" ver="5" ref="here.init_Theme"/>
				<init target="init_Options" ver="5" ref="here.private.ScreenKeyboard"/>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ButtonPressed">
					<body kind="om">
						<![CDATA[here.private.FocusEditor();]]>
					</body>
				</do-on>
			</object>
			<object access-modifier="private" name="ChangePasswordButton" display-name="ChangePasswordButton" uuid="28b82484-b378-47be-9c13-b955165564a4" base-type="Button" base-type-id="61e46e4a-827f-4dd2-ac8a-b68bcaddf442" ver="5">
				<designed target="X" value="60" ver="5"/>
				<designed target="Y" value="10" ver="5"/>
				<designed target="ZValue" value="0" ver="5"/>
				<designed target="Rotation" value="0" ver="5"/>
				<designed target="Scale" value="1" ver="5"/>
				<designed target="Visible" value="true" ver="5"/>
				<designed target="Opacity" value="1" ver="5"/>
				<designed target="Enabled" value="true" ver="5"/>
				<designed target="Tooltip" value="Сменить пароль" ver="5"/>
				<designed target="Width" value="25" ver="5"/>
				<designed target="Height" value="25" ver="5"/>
				<designed target="Checkable" value="false" ver="5"/>
				<designed target="Text" value="" ver="5"/>
				<designed target="TextAlignment" value="132" ver="5"/>
				<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
				<designed target="FontColor" value="4278190080" ver="5"/>
				<designed target="OnClickFontColor" value="4278190080" ver="5"/>
				<designed target="OnHoverFontColor" value="4278190080" ver="5"/>
				<designed target="DisabledFontColor" value="4278190080" ver="5"/>
				<designed target="BrushColor" value="0xfff0f0f0" ver="5"/>
				<designed target="BrushStyle" value="0" ver="5"/>
				<designed target="OnClickBrushColor" value="0xffa0a0a0" ver="5"/>
				<designed target="OnClickBrushStyle" value="0" ver="5"/>
				<designed target="OnHoverBrushColor" value="0xffffffff" ver="5"/>
				<designed target="OnHoverBrushStyle" value="0" ver="5"/>
				<designed target="DisabledBrushColor" value="0xffa0a0a0" ver="5"/>
				<designed target="DisabledBrushStyle" value="0" ver="5"/>
				<designed target="PenColor" value="0xff000000" ver="5"/>
				<designed target="PenStyle" value="0" ver="5"/>
				<designed target="PenWidth" value="1" ver="5"/>
				<designed target="OnClickPenColor" value="0xff000000" ver="5"/>
				<designed target="OnClickPenStyle" value="1" ver="5"/>
				<designed target="OnClickPenWidth" value="1" ver="5"/>
				<designed target="OnHoverPenColor" value="0xff000000" ver="5"/>
				<designed target="OnHoverPenStyle" value="1" ver="5"/>
				<designed target="OnHoverPenWidth" value="1" ver="5"/>
				<designed target="DisabledPenColor" value="0xffa0a0a0" ver="5"/>
				<designed target="DisabledPenStyle" value="0" ver="5"/>
				<designed target="DisabledPenWidth" value="1" ver="5"/>
				<object access-modifier="private" name="Icon" display-name="Icon" uuid="19a73280-c11e-47aa-9d1b-44e30c792059" base-type="Image" base-type-id="5a6b2782-c728-4a42-8c02-1a83ef97e138" ver="5">
					<designed target="X" value="5" ver="5"/>
					<designed target="Y" value="5" ver="5"/>
					<designed target="ZValue" value="0" ver="5"/>
					<designed target="Rotation" value="0" ver="5"/>
					<designed target="Scale" value="1" ver="5"/>
					<designed target="Visible" value="true" ver="5"/>
					<designed target="Opacity" value="1" ver="5"/>
					<designed target="Enabled" value="true" ver="5"/>
					<designed target="Tooltip" value="" ver="5"/>
					<designed target="Width" value="16" ver="5"/>
					<designed target="Height" value="16" ver="5"/>
					<designed target="PenColor" value="4278190080" ver="5"/>
					<designed target="PenStyle" value="0" ver="5"/>
					<designed target="PenWidth" value="1" ver="5"/>
					<designed target="ImageFile" value="CommonLib_Icons/Password16.png" ver="5"/>
					<designed target="Active" value="true" ver="5"/>
					<designed target="CurrentFrameNumber" value="0" ver="5"/>
					<designed target="Speed" value="1" ver="5"/>
					<designed target="Flip" value="0" ver="5"/>
				</object>
				<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ButtonPressed" form-by-id="false">
					<body kind="om">
						<![CDATA[Result.UserId = SecurityContext.CurrentUserId;
Result.UserDisplayName = SecurityContext.CurrentUserDisplayName;
ChangePassword.Invoke();
Close();]]>
					</body>
				</do-on>
				<designed target="Checked" value="false" ver="5"/>
				<do-trace access-modifier="private" target="OnClickPenColor" ver="5">
					<body>
						<![CDATA[private.pTheme.BorderColor]]>
					</body>
				</do-trace>
				<do-trace access-modifier="private" target="OnHoverPenColor" ver="5">
					<body>
						<![CDATA[private.pTheme.BorderColor]]>
					</body>
				</do-trace>
				<designed target="Flip" value="0" ver="5"/>
				<object access-modifier="private" name="SizeLimits" display-name="SizeLimits" uuid="49ab9c0e-a518-441e-a9d8-3dd77fe0935b" base-type="LayoutSizeLimits" base-type-id="10342c1f-560b-4160-9de5-7e2c08026f47" ver="5" description="" cardinal="1">
					<designed target="MinWidth" value="0" ver="5"/>
					<designed target="MinHeight" value="0" ver="5"/>
					<designed target="MaxWidth" value="25" ver="5"/>
					<designed target="MaxHeight" value="25" ver="5"/>
				</object>
			</object>
		</object>
		<object access-modifier="private" name="LoginButton" display-name="LoginButton" uuid="97839da1-99dd-47db-805e-3c53188239b9" base-type="Button" base-type-id="61e46e4a-827f-4dd2-ac8a-b68bcaddf442" ver="5">
			<designed target="X" value="100" ver="5"/>
			<designed target="Y" value="10" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="Войти в систему" ver="5"/>
			<designed target="Width" value="110" ver="5"/>
			<designed target="Height" value="25" ver="5"/>
			<designed target="Checkable" value="false" ver="5"/>
			<designed target="Text" value="Войти в систему" ver="5"/>
			<designed target="TextAlignment" value="132" ver="5"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
			<designed target="FontColor" value="0xff000000" ver="5"/>
			<designed target="OnClickFontColor" value="0xff000000" ver="5"/>
			<designed target="OnHoverFontColor" value="0xff000000" ver="5"/>
			<designed target="DisabledFontColor" value="0xff808080" ver="5"/>
			<designed target="BrushColor" value="0xfff0f0f0" ver="5"/>
			<designed target="BrushStyle" value="1" ver="5"/>
			<designed target="OnClickBrushColor" value="0xffa0a0a0" ver="5"/>
			<designed target="OnClickBrushStyle" value="1" ver="5"/>
			<designed target="OnHoverBrushColor" value="0xffffffff" ver="5"/>
			<designed target="OnHoverBrushStyle" value="1" ver="5"/>
			<designed target="DisabledBrushColor" value="0xfff0f0f0" ver="5"/>
			<designed target="DisabledBrushStyle" value="1" ver="5"/>
			<designed target="PenColor" value="4278190080" ver="5"/>
			<designed target="PenStyle" value="1" ver="5"/>
			<designed target="PenWidth" value="1" ver="5"/>
			<designed target="OnClickPenColor" value="4278190080" ver="5"/>
			<designed target="OnClickPenStyle" value="1" ver="5"/>
			<designed target="OnClickPenWidth" value="1" ver="5"/>
			<designed target="OnHoverPenColor" value="4278190080" ver="5"/>
			<designed target="OnHoverPenStyle" value="1" ver="5"/>
			<designed target="OnHoverPenWidth" value="1" ver="5"/>
			<designed target="DisabledPenColor" value="4288716960" ver="5"/>
			<designed target="DisabledPenStyle" value="1" ver="5"/>
			<designed target="DisabledPenWidth" value="1" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ButtonPressed">
				<body kind="om">
					<![CDATA[// идентификатор пользователя
userId: UserList.GetUserId(UserComboBox.Text);

// взводим флаг, что опреация аутентификации выполняется с этого диалога
SecurityContext.fromThisDialog = true;

//Debug.Log("Login " + userId);
SecurityContext.AsyncLogin(userId, PasswordEdit.Text);]]>
				</body>
			</do-on>
			<designed target="Checked" value="false" ver="5"/>
			<designed target="Flip" value="0" ver="5"/>
		</object>
		<object access-modifier="private" name="LogoutButton" display-name="LogoutButton" uuid="1c4b8a4a-63d0-49cd-99c5-32346126f732" base-type="Button" base-type-id="61e46e4a-827f-4dd2-ac8a-b68bcaddf442" ver="5">
			<designed target="X" value="220" ver="5"/>
			<designed target="Y" value="10" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="Выйти из системы" ver="5"/>
			<designed target="Width" value="80" ver="5"/>
			<designed target="Height" value="25" ver="5"/>
			<designed target="Checkable" value="false" ver="5"/>
			<designed target="Text" value="Выйти" ver="5"/>
			<designed target="TextAlignment" value="132" ver="5"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
			<designed target="FontColor" value="0xff000000" ver="5"/>
			<designed target="OnClickFontColor" value="0xff000000" ver="5"/>
			<designed target="OnHoverFontColor" value="0xff000000" ver="5"/>
			<designed target="DisabledFontColor" value="0xff808080" ver="5"/>
			<designed target="BrushColor" value="0xfff0f0f0" ver="5"/>
			<designed target="BrushStyle" value="1" ver="5"/>
			<designed target="OnClickBrushColor" value="0xffa0a0a0" ver="5"/>
			<designed target="OnClickBrushStyle" value="1" ver="5"/>
			<designed target="OnHoverBrushColor" value="0xffffffff" ver="5"/>
			<designed target="OnHoverBrushStyle" value="1" ver="5"/>
			<designed target="DisabledBrushColor" value="0xfff0f0f0" ver="5"/>
			<designed target="DisabledBrushStyle" value="1" ver="5"/>
			<designed target="PenColor" value="4278190080" ver="5"/>
			<designed target="PenStyle" value="1" ver="5"/>
			<designed target="PenWidth" value="1" ver="5"/>
			<designed target="OnClickPenColor" value="4278190080" ver="5"/>
			<designed target="OnClickPenStyle" value="1" ver="5"/>
			<designed target="OnClickPenWidth" value="1" ver="5"/>
			<designed target="OnHoverPenColor" value="4278190080" ver="5"/>
			<designed target="OnHoverPenStyle" value="1" ver="5"/>
			<designed target="OnHoverPenWidth" value="1" ver="5"/>
			<designed target="DisabledPenColor" value="4288716960" ver="5"/>
			<designed target="DisabledPenStyle" value="1" ver="5"/>
			<designed target="DisabledPenWidth" value="1" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ButtonPressed">
				<body kind="om">
					<![CDATA[SecurityContext.Logout();
Close();]]>
				</body>
			</do-on>
			<designed target="Checked" value="false" ver="5"/>
			<designed target="Flip" value="0" ver="5"/>
		</object>
		<object access-modifier="private" name="CancelButton" display-name="CancelButton" uuid="75cefc18-a786-4c09-bffc-c92b21193137" base-type="Button" base-type-id="61e46e4a-827f-4dd2-ac8a-b68bcaddf442" ver="5">
			<designed target="X" value="310" ver="5"/>
			<designed target="Y" value="10" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="" ver="5"/>
			<designed target="Width" value="80" ver="5"/>
			<designed target="Height" value="25" ver="5"/>
			<designed target="Checkable" value="false" ver="5"/>
			<designed target="Text" value="Отмена" ver="5"/>
			<designed target="TextAlignment" value="132" ver="5"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
			<designed target="FontColor" value="0xff000000" ver="5"/>
			<designed target="OnClickFontColor" value="0xff000000" ver="5"/>
			<designed target="OnHoverFontColor" value="0xff000000" ver="5"/>
			<designed target="DisabledFontColor" value="0xffa0a0a0" ver="5"/>
			<designed target="BrushColor" value="0xfff0f0f0" ver="5"/>
			<designed target="BrushStyle" value="1" ver="5"/>
			<designed target="OnClickBrushColor" value="0xffa0a0a0" ver="5"/>
			<designed target="OnClickBrushStyle" value="1" ver="5"/>
			<designed target="OnHoverBrushColor" value="0xffffffff" ver="5"/>
			<designed target="OnHoverBrushStyle" value="1" ver="5"/>
			<designed target="DisabledBrushColor" value="0xfff0f0f0" ver="5"/>
			<designed target="DisabledBrushStyle" value="1" ver="5"/>
			<designed target="PenColor" value="0xff000000" ver="5"/>
			<designed target="PenStyle" value="1" ver="5"/>
			<designed target="PenWidth" value="1" ver="5"/>
			<designed target="OnClickPenColor" value="0xff000000" ver="5"/>
			<designed target="OnClickPenStyle" value="1" ver="5"/>
			<designed target="OnClickPenWidth" value="1" ver="5"/>
			<designed target="OnHoverPenColor" value="0xff000000" ver="5"/>
			<designed target="OnHoverPenStyle" value="1" ver="5"/>
			<designed target="OnHoverPenWidth" value="1" ver="5"/>
			<designed target="DisabledPenColor" value="0xffa0a0a0" ver="5"/>
			<designed target="DisabledPenStyle" value="1" ver="5"/>
			<designed target="DisabledPenWidth" value="1" ver="5"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ButtonPressed" form-action="close"/>
			<designed target="Checked" value="false" ver="5"/>
			<designed target="Flip" value="0" ver="5"/>
		</object>
		<do access-modifier="private" name="UpdateButtonsEnable" display-name="UpdateButtonsEnable" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="om">
				<![CDATA[LoginButton.Enabled = SecurityContext.Connected && UserComboBox.Text != "" && PasswordEdit.Text != "";
LogoutButton.Enabled = SecurityContext.Connected && !SecurityContext.GuestMode;
Service.ChangePasswordButton.Enabled = SecurityContext.Connected && !SecurityContext.GuestMode;
Service.ChangePasswordButton.Opacity = Service.ChangePasswordButton.Enabled ? 1 : 0.5;]]>
			</body>
		</do>
		<designed target="Flip" value="0" ver="5"/>
	</object>
	<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="KeyPress">
		<body kind="om">
			<![CDATA[if (Focus)
{
	//Debug.Log("Key pressed on form: " + String.ToString(event.KeyCode));
	private.OnKeyPress(event.KeyCode);
}]]>
		</body>
	</do-on>
	<object access-modifier="private" name="Result" display-name="Ссылка на результат" uuid="54baf657-fbe4-4e39-9546-eba943ad070d" base-type="LoginDialogResult" base-type-id="5a70987d-09be-4ae7-90b3-76a00c6721bb" base-const="true" base-ref="true" ver="5"/>
	<object access-modifier="private" name="ChangePassword" display-name="ChangePassword" uuid="767d2a2b-0155-44ca-b2d2-5c1b75d55cb8" base-type="Action" base-type-id="a9ee9770-1c4a-44c9-b815-157d9fc2ab95" base-const="true" base-ref="true" ver="5"/>
	<do access-modifier="private" name="FitWindowSize" display-name="FitWindowSize" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<body kind="om">
			<![CDATA[if (ErrorPanel.Visible)
	WindowHeight = 205 + TypeConvert.ToInt4(ErrorPanel.Height);
else WindowHeight = 205;]]>
		</body>
	</do>
	<do access-modifier="private" name="UpdateLayout" display-name="UpdateLayout" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<body kind="om">
			<![CDATA[ButtonsPanel.Y = Height - ButtonsPanel.Height;]]>
		</body>
	</do>
	<do-on access-modifier="private" name="Handler_2" display-name="Handler_2" ver="5" event="WindowSizeChanged">
		<body kind="om">
			<![CDATA[Width = width;
Height = height;
UpdateLayout();]]>
		</body>
	</do-on>
	<do-on access-modifier="private" name="Handler_3" display-name="Handler_3" ver="5" event="Opened">
		<body kind="om">
			<![CDATA[WindowUtils.CorrectPosition();]]>
		</body>
	</do-on>
	<do-trace access-modifier="private" target="BrushColor" ver="5">
		<body>
			<![CDATA[private.pTheme.BackgroundColor]]>
		</body>
	</do-trace>
	<designed target="WindowIconPath" value="CommonLib_Icons/User.png" ver="5"/>
	<object access-modifier="private" name="ErrorPanel" display-name="ErrorPanel" uuid="deb86394-b911-4958-bb86-29456107d4c3" base-type="Rectangle" base-type-id="15726dc3-881e-4d8d-b0fa-a8f8237f08ca" ver="5">
		<designed target="X" value="10" ver="5"/>
		<designed target="Y" value="160" ver="5"/>
		<designed target="ZValue" value="0" ver="5"/>
		<designed target="Rotation" value="0" ver="5"/>
		<designed target="Scale" value="1" ver="5"/>
		<designed target="Visible" value="true" ver="5"/>
		<designed target="Opacity" value="1" ver="5"/>
		<designed target="Enabled" value="true" ver="5"/>
		<designed target="Tooltip" value="" ver="5"/>
		<designed target="Width" value="380" ver="5"/>
		<designed target="Height" value="25" ver="5"/>
		<designed target="RoundingRadius" value="0" ver="5"/>
		<designed target="PenColor" value="4278190080" ver="5"/>
		<designed target="PenStyle" value="0" ver="5"/>
		<designed target="PenWidth" value="1" ver="5"/>
		<designed target="BrushColor" value="4278190080" ver="5"/>
		<designed target="BrushStyle" value="0" ver="5"/>
		<object access-modifier="private" name="ErrorIcon" display-name="ErrorIcon" uuid="789104c9-c758-4618-9d5f-cd18af95f02e" base-type="Image" base-type-id="5a6b2782-c728-4a42-8c02-1a83ef97e138" ver="5">
			<designed target="X" value="0" ver="5"/>
			<designed target="Y" value="5" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="" ver="5"/>
			<designed target="Width" value="16" ver="5"/>
			<designed target="Height" value="16" ver="5"/>
			<designed target="PenColor" value="4278190080" ver="5"/>
			<designed target="PenStyle" value="0" ver="5"/>
			<designed target="PenWidth" value="1" ver="5"/>
			<designed target="ImageFile" value="CommonLib_Icons/Attention16.png" ver="5"/>
			<designed target="Active" value="true" ver="5"/>
			<designed target="CurrentFrameNumber" value="0" ver="5"/>
			<designed target="Speed" value="1" ver="5"/>
			<designed target="Flip" value="0" ver="5"/>
		</object>
		<object access-modifier="private" name="ErrorText" display-name="ErrorText" uuid="dcacd9a6-8b2b-4d7f-a8dd-a06064258917" base-type="Text" base-type-id="21d59f8d-2ca4-4592-92ca-b4dc48992a0f" ver="5">
			<designed target="X" value="20" ver="5"/>
			<designed target="Y" value="0" ver="5"/>
			<designed target="ZValue" value="0" ver="5"/>
			<designed target="Rotation" value="0" ver="5"/>
			<designed target="Scale" value="1" ver="5"/>
			<designed target="Visible" value="true" ver="5"/>
			<designed target="Opacity" value="1" ver="5"/>
			<designed target="Enabled" value="true" ver="5"/>
			<designed target="Tooltip" value="" ver="5"/>
			<designed target="Width" value="370" ver="5"/>
			<designed target="Height" value="25" ver="5"/>
			<designed target="Text" value="" ver="5"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="5"/>
			<designed target="FontColor" value="4278190080" ver="5"/>
			<designed target="TextAlignment" value="129" ver="5"/>
			<do-trace access-modifier="private" target="FontColor" ver="5">
				<body>
					<![CDATA[private.pTheme.ForegroundColor]]>
				</body>
			</do-trace>
			<designed target="Flip" value="0" ver="5"/>
		</object>
		<init target="Visible" ver="5" value="false"/>
		<designed target="Flip" value="0" ver="5"/>
	</object>
	<designed target="Flip" value="0" ver="5"/>
	<do-on access-modifier="private" name="Handler_4" display-name="Handler_4" ver="5" event="WindowActivationChanged">
		<body kind="om">
			<![CDATA[if (active)
	private.FocusEditor();]]>
		</body>
	</do-on>
	<param access-modifier="private" name="init_Theme" display-name="Тема оформления" uuid="8bb38624-8027-4381-9495-6bfd97e49d7d" base-type="Theme" base-type-id="05d4d7df-0f8e-4ec1-ac85-b5460e30af81" base-const="true" base-ref="true" ver="5"/>
	<param access-modifier="private" name="init_ScreenKeyboard" display-name="Вызов экранной клавиатуры" uuid="c3c00769-c3de-451d-8de2-2d48d008a7a8" base-type="ScreenKeyboardOptions" base-type-id="0589bc8e-fbb2-4f0e-b5d2-f0d825538ef1" base-const="true" base-ref="true" ver="5" description=""/>
	<init target="init_ScreenKeyboard" ver="5">
		<object access-modifier="private" uuid="9ad43869-75f1-4ea2-86dc-e7e3192e749a" base-type="ScreenKeyboardOptions" base-type-id="0589bc8e-fbb2-4f0e-b5d2-f0d825538ef1" ver="5"/>
	</init>
</type>

